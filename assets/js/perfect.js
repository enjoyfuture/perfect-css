!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F():"function"==typeof define&&define.amd?define([],F):"object"==typeof exports?exports.perfect=F():Q.perfect=F()}(this,function(){return function(Q){function F(B){if(n[B])return n[B].exports;var U=n[B]={i:B,l:!1,exports:{}};return Q[B].call(U.exports,U,U.exports,F),U.l=!0,U.exports}var n={};return F.m=Q,F.c=n,F.d=function(Q,n,B){F.o(Q,n)||Object.defineProperty(Q,n,{configurable:!1,enumerable:!0,get:B})},F.n=function(Q){var n=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(n,"a",n),n},F.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},F.p="",F(F.s=1)}([function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUuid = getUuid;\nexports.offset = offset;\nexports.position = position;\n// 提供工具类方法\n\nvar MAX_UUID = 1000000;\n\nfunction isWindow(elem) {\n  return elem != null && elem === elem.window;\n}\n\nfunction getWindow(elem) {\n  return isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView;\n}\n\n/**\n * getStyles\n * @param {type} element\n * @param {type} property\n * @returns {styles}\n */\nfunction getStyles(element, property, extra) {\n  var styles = element.ownerDocument.defaultView.getComputedStyle(element, null);\n  if (property) {\n    var cssValue = styles.getPropertyValue(property) || styles[property];\n    if (extra) {\n      var num = parseFloat(cssValue);\n      return extra === true || isFinite(num) ? num || 0 : cssValue;\n    }\n    return cssValue;\n  }\n  return styles;\n}\n\nfunction getOffsetParent(elem) {\n  /* eslint-disable prefer-destructuring */\n  var offsetParent = elem.offsetParent;\n\n  while (offsetParent && elem.tagName.toLowerCase() !== 'html' && getStyles(offsetParent, 'position') === 'static') {\n    offsetParent = offsetParent.offsetParent;\n  }\n  return offsetParent || document.documentElement;\n}\n\n/**\n * @description 生成唯一的 dom uuid\n * @param {string} prefix 前缀\n * @return {*} uuid\n */\nfunction getUuid(prefix) {\n  var _prefix = prefix;\n  do {\n    // eslint-disable-next-line no-bitwise\n    _prefix += ~~(Math.random() * MAX_UUID); // \"~~\" acts like a faster Math.floor() here\n  } while (document.getElementById(_prefix));\n\n  return _prefix;\n}\n\n// 根据浏览器设置其鼠标滑轮事件\nvar isWheel = exports.isWheel = function () {\n  // compatibility: mouse wheel event\n  // http://www.w3help.org/zh-cn/causes/SD9015\n  var ua = navigator.userAgent;\n  // ie 11 /gecko/i.test(ua) value is true ,so need to judge /firefox/i.test(ua)\n  if (/gecko/i.test(ua) && !/webkit/i.test(ua) && /firefox/i.test(ua)) {\n    // Firefox\n    return false;\n  }\n  // IE Safari Chrome Opera\n  return true;\n}();\n\n/**\n * 返回元素 offset\n * 不支持隐藏的元素\n * 参考 jQuery 实现\n * https://github.com/jquery/jquery/blob/master/src/offset.js\n * @param el\n * @returns {*}\n */\nfunction offset(el) {\n  if (!el) {\n    return;\n  }\n\n  var docElem = void 0,\n      win = void 0,\n      doc = void 0;\n\n  // Support: IE <=11 only\n  // Running getBoundingClientRect on a\n  // disconnected node in IE throws an error\n  if (!el.getClientRects().length) {\n    return { top: 0, left: 0 };\n  }\n\n  var rect = el.getBoundingClientRect();\n\n  // Make sure element is not hidden (display: none)\n  if (rect.width || rect.height) {\n    doc = el.ownerDocument;\n    win = getWindow(doc);\n    docElem = doc.documentElement;\n\n    return {\n      top: rect.top + win.pageYOffset - docElem.clientTop,\n      left: rect.left + win.pageXOffset - docElem.clientLeft\n    };\n  }\n  return rect;\n}\n\n/**\n * 返回其 position 坐标\n * @param elem\n * @return {*}\n */\nfunction position(elem) {\n  if (!elem) {\n    return null;\n  }\n\n  var offsetParent = void 0,\n      offsetXY = void 0,\n      parentOffset = { top: 0, left: 0 };\n\n  if (getStyles(elem, 'position') === 'fixed') {\n    offsetXY = elem.getBoundingClientRect();\n  } else {\n    offsetParent = getOffsetParent(elem);\n    offsetXY = offset(elem);\n    if (elem.tagName.toLowerCase() !== 'html') {\n      parentOffset = offset(offsetParent);\n    }\n    parentOffset.top += getStyles(offsetParent, 'borderTopWidth', true);\n    parentOffset.left += getStyles(offsetParent, 'borderLeftWidth', true);\n  }\n\n  return {\n    top: offsetXY.top - parentOffset.top - getStyles(elem, 'marginTop', true),\n    left: offsetXY.left - parentOffset.left - getStyles(elem, 'marginLeft', true)\n  };\n}\n\nvar util = {\n  getUuid: getUuid,\n  isWheel: isWheel,\n  offset: offset,\n  position: position\n};\n\nexports.default = util;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2Jhc2UvdXRpbC5qcz82Y2QyIl0sIm5hbWVzIjpbImdldFV1aWQiLCJvZmZzZXQiLCJwb3NpdGlvbiIsIk1BWF9VVUlEIiwiaXNXaW5kb3ciLCJlbGVtIiwid2luZG93IiwiZ2V0V2luZG93Iiwibm9kZVR5cGUiLCJkZWZhdWx0VmlldyIsImdldFN0eWxlcyIsImVsZW1lbnQiLCJwcm9wZXJ0eSIsImV4dHJhIiwic3R5bGVzIiwib3duZXJEb2N1bWVudCIsImdldENvbXB1dGVkU3R5bGUiLCJjc3NWYWx1ZSIsImdldFByb3BlcnR5VmFsdWUiLCJudW0iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJnZXRPZmZzZXRQYXJlbnQiLCJvZmZzZXRQYXJlbnQiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInByZWZpeCIsIl9wcmVmaXgiLCJNYXRoIiwicmFuZG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCJpc1doZWVsIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0ZXN0IiwiZWwiLCJkb2NFbGVtIiwid2luIiwiZG9jIiwiZ2V0Q2xpZW50UmVjdHMiLCJsZW5ndGgiLCJ0b3AiLCJsZWZ0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwicGFnZVlPZmZzZXQiLCJjbGllbnRUb3AiLCJwYWdlWE9mZnNldCIsImNsaWVudExlZnQiLCJvZmZzZXRYWSIsInBhcmVudE9mZnNldCIsInV0aWwiXSwibWFwcGluZ3MiOiI7Ozs7O1FBK0NnQkEsTyxHQUFBQSxPO1FBK0JBQyxNLEdBQUFBLE07UUFtQ0FDLFEsR0FBQUEsUTtBQWpIaEI7O0FBRUEsSUFBTUMsV0FBVyxPQUFqQjs7QUFFQSxTQUFTQyxRQUFULENBQWtCQyxJQUFsQixFQUF3QjtBQUN0QixTQUFPQSxRQUFRLElBQVIsSUFBZ0JBLFNBQVNBLEtBQUtDLE1BQXJDO0FBQ0Q7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QWI7O2tCQU9lc0QsSSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g5o+Q5L6b5bel5YW357G75pa55rOVXG5cbmNvbnN0IE1BWF9VVUlEID0gMTAwMDAwMDtcblxuZnVuY3Rpb24gaXNXaW5kb3coZWxlbSkge1xuICByZXR1cm4gZWxlbSAhPSBudWxsICYmIGVsZW0gPT09IGVsZW0ud2luZG93O1xufVxuXG5mdW5jdGlvbiBnZXRXaW5kb3coZWxlbSkge1xuICByZXR1cm4gaXNXaW5kb3coZWxlbSkgPyBlbGVtIDogZWxlbS5ub2RlVHlwZSA9PT0gOSAmJiBlbGVtLmRlZmF1bHRWaWV3O1xufVxuXG4vKipcbiAqIGdldFN0eWxlc1xuICogQHBhcmFtIHt0eXBlfSBlbGVtZW50XG4gKiBAcGFyYW0ge3R5cGV9IHByb3BlcnR5XG4gKiBAcmV0dXJucyB7c3R5bGVzfVxuICovXG5mdW5jdGlvbiBnZXRTdHlsZXMoZWxlbWVudCwgcHJvcGVydHksIGV4dHJhKSB7XG4gIGNvbnN0IHN0eWxlcyA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpO1xuICBpZiAocHJvcGVydHkpIHtcbiAgICBjb25zdCBjc3NWYWx1ZSA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KSB8fCBzdHlsZXNbcHJvcGVydHldO1xuICAgIGlmIChleHRyYSkge1xuICAgICAgY29uc3QgbnVtID0gcGFyc2VGbG9hdChjc3NWYWx1ZSk7XG4gICAgICByZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUobnVtKSA/IG51bSB8fCAwIDogY3NzVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBjc3NWYWx1ZTtcbiAgfVxuICByZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItZGVzdHJ1Y3R1cmluZyAqL1xuICBsZXQgb2Zmc2V0UGFyZW50ID0gZWxlbS5vZmZzZXRQYXJlbnQ7XG5cbiAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBlbGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2h0bWwnICYmXG4gIGdldFN0eWxlcyhvZmZzZXRQYXJlbnQsICdwb3NpdGlvbicpID09PSAnc3RhdGljJykge1xuICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG4gIH1cbiAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIOeUn+aIkOWUr+S4gOeahCBkb20gdXVpZFxuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCDliY3nvIBcbiAqIEByZXR1cm4geyp9IHV1aWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFV1aWQocHJlZml4KSB7XG4gIGxldCBfcHJlZml4ID0gcHJlZml4O1xuICBkbyB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICBfcHJlZml4ICs9IH5+KE1hdGgucmFuZG9tKCkgKiBNQVhfVVVJRCk7IC8vIFwifn5cIiBhY3RzIGxpa2UgYSBmYXN0ZXIgTWF0aC5mbG9vcigpIGhlcmVcbiAgfSB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3ByZWZpeCkpO1xuXG4gIHJldHVybiBfcHJlZml4O1xufVxuXG4vLyDmoLnmja7mtY/op4jlmajorr7nva7lhbbpvKDmoIfmu5Hova7kuovku7ZcbmV4cG9ydCBjb25zdCBpc1doZWVsID0gKCgpID0+IHtcbiAgLy8gY29tcGF0aWJpbGl0eTogbW91c2Ugd2hlZWwgZXZlbnRcbiAgLy8gaHR0cDovL3d3dy53M2hlbHAub3JnL3poLWNuL2NhdXNlcy9TRDkwMTVcbiAgY29uc3QgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAvLyBpZSAxMSAvZ2Vja28vaS50ZXN0KHVhKSB2YWx1ZSBpcyB0cnVlICxzbyBuZWVkIHRvIGp1ZGdlIC9maXJlZm94L2kudGVzdCh1YSlcbiAgaWYgKC9nZWNrby9pLnRlc3QodWEpICYmICEoL3dlYmtpdC9pLnRlc3QodWEpKSAmJiAoL2ZpcmVmb3gvaS50ZXN0KHVhKSkpIHsgLy8gRmlyZWZveFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBJRSBTYWZhcmkgQ2hyb21lIE9wZXJhXG4gIHJldHVybiB0cnVlO1xufSkoKTtcblxuLyoqXG4gKiDov5Tlm57lhYPntKAgb2Zmc2V0XG4gKiDkuI3mlK/mjIHpmpDol4/nmoTlhYPntKBcbiAqIOWPguiAgyBqUXVlcnkg5a6e546wXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9ibG9iL21hc3Rlci9zcmMvb2Zmc2V0LmpzXG4gKiBAcGFyYW0gZWxcbiAqIEByZXR1cm5zIHsqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb2Zmc2V0KGVsKSB7XG4gIGlmICghZWwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgZG9jRWxlbSwgd2luLCBkb2M7XG5cbiAgLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4gIC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGFcbiAgLy8gZGlzY29ubmVjdGVkIG5vZGUgaW4gSUUgdGhyb3dzIGFuIGVycm9yXG4gIGlmICghZWwuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpIHtcbiAgICByZXR1cm4ge3RvcDogMCwgbGVmdDogMH07XG4gIH1cblxuICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgLy8gTWFrZSBzdXJlIGVsZW1lbnQgaXMgbm90IGhpZGRlbiAoZGlzcGxheTogbm9uZSlcbiAgaWYgKHJlY3Qud2lkdGggfHwgcmVjdC5oZWlnaHQpIHtcbiAgICBkb2MgPSBlbC5vd25lckRvY3VtZW50O1xuICAgIHdpbiA9IGdldFdpbmRvdyhkb2MpO1xuICAgIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcbiAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdCxcbiAgICB9O1xuICB9XG4gIHJldHVybiByZWN0O1xufVxuXG4vKipcbiAqIOi/lOWbnuWFtiBwb3NpdGlvbiDlnZDmoIdcbiAqIEBwYXJhbSBlbGVtXG4gKiBAcmV0dXJuIHsqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9zaXRpb24oZWxlbSkge1xuICBpZiAoIWVsZW0pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxldCBvZmZzZXRQYXJlbnQsIG9mZnNldFhZLFxuICAgIHBhcmVudE9mZnNldCA9IHt0b3A6IDAsIGxlZnQ6IDB9O1xuXG4gIGlmIChnZXRTdHlsZXMoZWxlbSwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpIHtcbiAgICBvZmZzZXRYWSA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH0gZWxzZSB7XG4gICAgb2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGVsZW0pO1xuICAgIG9mZnNldFhZID0gb2Zmc2V0KGVsZW0pO1xuICAgIGlmIChlbGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2h0bWwnKSB7XG4gICAgICBwYXJlbnRPZmZzZXQgPSBvZmZzZXQob2Zmc2V0UGFyZW50KTtcbiAgICB9XG4gICAgcGFyZW50T2Zmc2V0LnRvcCArPSBnZXRTdHlsZXMob2Zmc2V0UGFyZW50LCAnYm9yZGVyVG9wV2lkdGgnLCB0cnVlKTtcbiAgICBwYXJlbnRPZmZzZXQubGVmdCArPSBnZXRTdHlsZXMob2Zmc2V0UGFyZW50LCAnYm9yZGVyTGVmdFdpZHRoJywgdHJ1ZSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRvcDogb2Zmc2V0WFkudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGdldFN0eWxlcyhlbGVtLCAnbWFyZ2luVG9wJywgdHJ1ZSksXG4gICAgbGVmdDogb2Zmc2V0WFkubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0gZ2V0U3R5bGVzKGVsZW0sICdtYXJnaW5MZWZ0JywgdHJ1ZSksXG4gIH07XG59XG5cbmNvbnN0IHV0aWwgPSB7XG4gIGdldFV1aWQsXG4gIGlzV2hlZWwsXG4gIG9mZnNldCxcbiAgcG9zaXRpb24sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB1dGlsO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9iYXNlL3V0aWwuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.CatalogueSpy = exports.ScrollSpy = undefined;\n\nvar _scrollSpy = __webpack_require__(2);\n\nvar _scrollSpy2 = _interopRequireDefault(_scrollSpy);\n\nvar _catalogueSpy = __webpack_require__(3);\n\nvar _catalogueSpy2 = _interopRequireDefault(_catalogueSpy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.ScrollSpy = _scrollSpy2.default;\nexports.CatalogueSpy = _catalogueSpy2.default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BlcmZlY3QuanM/NzI0ZiJdLCJuYW1lcyI6WyJTY3JvbGxTcHkiLCJDYXRhbG9ndWVTcHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7UUFHRUEsUztRQUNBQyxZIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2Nyb2xsU3B5IGZyb20gJy4vc2Nyb2xsLXNweS9zY3JvbGxTcHknO1xuaW1wb3J0IENhdGFsb2d1ZVNweSBmcm9tICcuL3Njcm9sbC1zcHkvcGx1Z2lucy9jYXRhbG9ndWVTcHknO1xuXG5leHBvcnQge1xuICBTY3JvbGxTcHksXG4gIENhdGFsb2d1ZVNweVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvcGVyZmVjdC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar win = window;\nvar doc = document;\nvar _Array$prototype = Array.prototype,\n    forEach = _Array$prototype.forEach,\n    map = _Array$prototype.map;\n\nvar ScrollSpy = function () {\n  function ScrollSpy(element) {\n    var _this = this;\n\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, ScrollSpy);\n\n    this.scrollEvent = function (event) {\n      _this.process();\n    };\n\n    this.element = element;\n    this.scrollElement = element.tagName === 'BODY' ? win : element;\n    this.config = this.getConfig(config);\n    var _config2 = this.config,\n        menu = _config2.menu,\n        menuClsPrefix = _config2.menuClsPrefix,\n        extend = _config2.extend;\n    // 菜单 目录 等选择器\n\n    this.menuSelector = menu + ' .' + menuClsPrefix + '-title';\n    this.offsets = [];\n    this.targets = [];\n    this.activeTarget = null;\n    this.scrollHeight = 0;\n\n    // 如果默认不展开，则用样式来控制\n    if (!extend) {\n      var extendStyle = doc.createElement('style');\n      extendStyle.innerHTML = '\\n          .menu-catalogue .menu-catalogue {\\n            display: none;\\n          }\\n          .active + .menu-catalogue {\\n            display: block;\\n          }';\n      doc.getElementsByTagName('head')[0].append(extendStyle);\n    }\n\n    // 添加事件，页面滚动时，处理目录和内容对应坐标\n    this.scrollElement.addEventListener(_util.isWheel ? 'mousewheel' : 'DOMMouseScroll', this.scrollEvent, false);\n    var _config3 = this.config,\n        immedLoad = _config3.immedLoad,\n        initMenus = _config3.initMenus,\n        anchor = _config3.anchor;\n    // 需要根据内容动态创建菜单列表\n\n    if (initMenus) {\n      this.generateMenus();\n    }\n\n    // 菜单面板\n    this.menuPanel = menu + ' .' + menuClsPrefix + '.' + menuClsPrefix + '-catalogue';\n    this.$menuPanel = doc.querySelector(this.menuPanel);\n\n    // 不用锚点处理的情况\n    if (anchor === false) {\n      // fixme 待改进，改成 事件代理模式\n      var menuElements = doc.querySelectorAll(this.menuSelector);\n      forEach.call(menuElements, function (element) {\n        element.addEventListener('click', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n          var el = e.currentTarget;\n          var menu = el.dataset.menu;\n          var _config4 = _this.config,\n              offsetMethod = _config4.offsetMethod,\n              container = _config4.container;\n\n          var offsetXY = _this.config.offset;\n\n          var targetEl = doc.querySelector(container + ' [data-target=\"' + menu + '\"]').parentNode;\n          var top = offsetMethod === 'offset' ? (0, _util.offset)(targetEl).top : (0, _util.position)(targetEl).top;\n          var offsetBase = offsetMethod === 'position' ? _this.getScrollTop() : 0;\n\n          // fixme\n          _this.scrollElement.scrollTo(0, top + offsetBase - offsetXY);\n          el.blur();\n          _this.process();\n        }, false);\n      });\n    }\n\n    // 加载插件\n    var pluginConfig = this.config.pluginConfig;\n    var plugins = this.config.plugins;\n\n    if (plugins) {\n      if (!Array.isArray(plugins)) {\n        plugins = [plugins];\n      }\n      this.plugins = [];\n      var container = this.config.container;\n\n      plugins.forEach(function (plugin) {\n        // 把当前实例传给插件\n        var instance = new plugin(_this, pluginConfig);\n        instance.mount();\n        _this.plugins.push(instance);\n      });\n    }\n\n    // 显示菜单\n    // doc.querySelector(menu).style.display = 'block';\n    if (immedLoad) {\n      this.refresh();\n      this.process();\n    }\n  }\n\n  _createClass(ScrollSpy, [{\n    key: 'getConfig',\n    value: function getConfig(config) {\n      var _config = _extends({}, ScrollSpy.defaultConfig, config);\n\n      var menu = _config.menu;\n      var container = _config.container;\n\n\n      if (typeof menu !== 'string') {\n        // dom 对象\n        var id = menu.id;\n\n        if (!id) {\n          id = (0, _util.getUuid)('scrollspy');\n          menu.id = id;\n        }\n        _config.menu = '#' + id;\n      }\n\n      if (!container) {\n        container = doc.body; // 默认取 body\n      }\n      if (typeof container !== 'string') {\n        var _container = container,\n            _id = _container.id;\n\n        if (!_id) {\n          _id = (0, _util.getUuid)('scrollspy');\n          container.id = _id;\n        }\n        _config.container = '#' + _id;\n      }\n\n      var autoMethod = this.scrollElement !== this.scrollElement.window ? 'position' : 'offset';\n\n      var offsetMethod = _config.method === 'auto' ? autoMethod : _config.method;\n\n      _config.offsetMethod = offsetMethod;\n\n      return _config;\n    }\n\n    /**\n     * 动态创建菜单\n     */\n\n  }, {\n    key: 'generateMenus',\n    value: function generateMenus() {\n      var menus = this.element.querySelectorAll('h1,h2,h3,h4,h5,h6');\n      // 初始化根节点\n      var entries = {\n        level: 0,\n        children: [],\n        depth: 0,\n        parent: null,\n        text: null,\n        root: true\n      };\n\n      // 前一个元素 level\n      var prevLevel = 0;\n      // 上一个节点\n      var lastNode = null;\n\n      forEach.call(menus, function (el, index) {\n        var entry = null;\n        var level = 7 - parseInt(el.tagName[1], 10);\n        var text = el.innerHTML;\n\n        if (index === 0) {\n          // 初始化第一个元素\n          entry = {\n            level: level,\n            children: [],\n            depth: 1,\n            parent: entries,\n            text: text,\n            el: el\n          };\n          entries.children.push(entry);\n        } else {\n          if (level === prevLevel) {\n            // 相等的话\n            entry = {\n              level: level,\n              children: [],\n              depth: lastNode.depth,\n              parent: lastNode.parent,\n              text: text,\n              el: el\n            };\n            lastNode.parent.children.push(entry);\n          } else if (level < prevLevel) {\n            // 如果当前级别小于前一个\n            entry = {\n              level: level,\n              children: [],\n              depth: lastNode.depth + 1,\n              parent: lastNode,\n              text: text,\n              el: el\n            };\n            lastNode.children.push(entry);\n          } else {\n            // 如果当前级别大于前一个 查找祖先节点\n            var ancestor = lastNode.parent;\n            while (ancestor.level <= level && !ancestor.root) {\n              ancestor = ancestor.parent;\n            }\n            entry = {\n              level: level,\n              children: [],\n              depth: ancestor.depth + 1,\n              parent: ancestor,\n              text: text,\n              el: el\n            };\n            ancestor.children.push(entry);\n          }\n        }\n        lastNode = entry;\n        prevLevel = level;\n      });\n\n      var html = this.generateMenusHtml(entries.children, this.config.prefix);\n      doc.querySelector(this.config.menu).innerHTML = html;\n    }\n\n    /**\n     * 根据 nodes 节点 生成 html\n     * @param nodes\n     * @param prefix\n     * @return {string}\n     */\n\n  }, {\n    key: 'generateMenusHtml',\n    value: function generateMenusHtml(nodes, prefix) {\n      var _config5 = this.config,\n          menuClsPrefix = _config5.menuClsPrefix,\n          menuCls = _config5.menuCls;\n\n      var html = '';\n      if (nodes && nodes.length > 0) {\n        html = '<ul class=\"' + menuClsPrefix + ' ' + menuClsPrefix + '-catalogue' + (menuCls ? ' ' + menuCls : '') + '\">';\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var node = nodes[i];\n          // 为对应的内容加锚点\n          var newChild = document.createElement('a');\n          newChild.id = prefix + (i + 1);\n          newChild.className = menuClsPrefix + '-anchor';\n          if (this.config.anchor) {\n            newChild.href = '#' + (prefix + (i + 1));\n          } else {\n            newChild.dataset.menu = '' + (prefix + (i + 1));\n          }\n\n          newChild.setAttribute('aria-hidden', true);\n          node.el.insertBefore(newChild, node.el.firstChild);\n\n          html += '<li>';\n          if (this.config.anchor) {\n            html += '<a class=\"' + menuClsPrefix + '-title\" href=\"#' + prefix + (i + 1) + '\">' + node.text + '</a>';\n          } else {\n            // 用 data-target 来控制，需要结合 js 来控制\n            html += '<a class=\"' + menuClsPrefix + '-title\" data-target=\"' + prefix + (i + 1) + '\" href=\"#\">' + node.text + '</a>';\n          }\n          if (node.children && node.children.length > 0) {\n            html += this.generateMenusHtml(node.children, '' + prefix + (i + 1) + '-');\n          }\n          html += '</li>';\n        }\n        html += '</ul>';\n      }\n      return html;\n    }\n\n    /**\n     * 滚动页面时，刷新相关数据\n     */\n\n  }, {\n    key: 'refresh',\n    value: function refresh() {\n      var _this2 = this;\n\n      var offsetMethod = this.config.offsetMethod;\n\n      var offsetBase = offsetMethod === 'position' ? this.getScrollTop() : 0;\n\n      this.offsets = [];\n      this.targets = [];\n      this.scrollHeight = this.getScrollHeight();\n\n      // 把滚动监听的元素和坐标保存到offsets和targets中\n      var menuElements = doc.querySelectorAll(this.menuSelector);\n\n      map.call(menuElements, function (element) {\n        // 目标元素\n        var target = null;\n        var _config6 = _this2.config,\n            anchor = _config6.anchor,\n            container = _config6.container;\n\n        var selector = anchor ? element.getAttribute('href') : element.dataset.menu;\n        var targetSelector = anchor ? element.getAttribute('href') : container + ' [data-target=\"' + element.dataset.menu + '\"]';\n\n        if (targetSelector) {\n          target = doc.querySelector(targetSelector).parentNode;\n          var targetBCR = target.getBoundingClientRect();\n          if (targetBCR.width || targetBCR.height) {\n            return [(offsetMethod === 'offset' ? (0, _util.offset)(target).top : (0, _util.position)(target).top) + offsetBase, selector];\n          }\n        }\n        return null;\n      }).sort(function (a, b) {\n        if (!a || !b) {\n          return 0;\n        }\n        return a[0] - b[0];\n      }).forEach(function (item) {\n        if (item) {\n          _this2.offsets.push(item[0]);\n          _this2.targets.push(item[1]);\n        }\n      });\n    }\n\n    // 鼠标滚动事件\n\n  }, {\n    key: 'process',\n\n\n    /**\n     * 滚动时触发该方法\n     * @returns {boolean|*}\n     */\n    value: function process() {\n      // 需要加 1 微调\n      var scrollTop = this.getScrollTop() + this.config.offset + 1;\n      var scrollHeight = this.getScrollHeight();\n      var maxScroll = this.config.offset + scrollHeight - this.getOffsetHeight();\n\n      // 不相等的话，重新刷新，比如改变页面窗口后\n      if (this.scrollHeight !== scrollHeight) {\n        this.refresh();\n      }\n\n      // 滑到底部\n      if (scrollTop >= maxScroll) {\n        // 取最后一个\n        var target = this.targets[this.targets.length - 1];\n\n        if (this.activeTarget !== target) {\n          this.activate(target);\n        }\n        return;\n      }\n\n      // 滑到头部\n      if (this.activeTarget && scrollTop < this.offsets[0] && this.offsets[0] > 0) {\n        this.activeTarget = null;\n        this.clearActiveCls();\n        return;\n      }\n\n      for (var i = this.offsets.length; i--;) {\n        var isActiveTarget = this.activeTarget !== this.targets[i] && scrollTop >= this.offsets[i] && (this.offsets[i + 1] === undefined || scrollTop < this.offsets[i + 1]);\n\n        if (isActiveTarget) {\n          this.activate(this.targets[i]);\n        }\n      }\n    }\n\n    /**\n     * 设置当前活动的内容\n     * @param target\n     */\n\n  }, {\n    key: 'activate',\n    value: function activate(target) {\n      this.activeTarget = target;\n\n      this.clearActiveCls();\n\n      var anchor = this.config.anchor;\n\n      var queries = this.menuSelector.split(',');\n      var lastSelector = []; // 最后一个菜单项，即当前的子节点\n      // 当前选中的和父目录都添加活动样式\n      var parentEls = target.split('-');\n      queries = queries.map(function (query) {\n        var selector = [];\n        var catalog = '';\n        parentEls.forEach(function (it, index) {\n          if (index === 0) {\n            catalog += it;\n          } else {\n            catalog += '-' + it;\n            selector.push(anchor ? query + '[href=\"' + catalog + '\"]' : query + '[data-menu=\"' + catalog + '\"]');\n          }\n        });\n        lastSelector.push(selector[selector.length - 1]);\n        return selector.join(',');\n      });\n\n      var $link = doc.querySelectorAll(queries.join(','));\n\n      for (var i = 0, len = $link.length; i < len; i++) {\n        $link[i].classList.add('active');\n      }\n\n      this.plugins.forEach(function (plugin) {\n        if (typeof plugin.scrollMenu === 'function') {\n          plugin.scrollMenu(lastSelector);\n        }\n      });\n\n      // todo 事件，待补充\n\n      /* $(this._scrollElement).trigger(Event.ACTIVATE, {\n       relatedTarget: target\n       }) */\n    }\n  }, {\n    key: 'clearActiveCls',\n    value: function clearActiveCls() {\n      // 删除当前活动样式\n      var activeEls = doc.querySelectorAll(this.menuSelector + '.active');\n      if (activeEls) {\n        for (var i = 0, len = activeEls.length; i < len; i++) {\n          activeEls[i].classList.remove('active');\n        }\n      }\n    }\n\n    // 卸载\n\n  }, {\n    key: 'unmount',\n    value: function unmount() {\n      // $.removeData(this._element, DATA_KEY)\n      this.scrollElement.removeEventListener(_util.isWheel ? 'mousewheel' : 'DOMMouseScroll', this.scrollEvent, false);\n\n      this.element = null;\n      this.scrollElement = null;\n      this.config = null;\n      this.menu = null;\n      this.menuSelector = null;\n      this.container = null;\n      this.offsets = null;\n      this.targets = null;\n      this.activeTarget = null;\n      this.scrollHeight = null;\n\n      // 卸载插件\n      if (this.plugins) {\n        this.plugins.forEach(function (plugin) {\n          plugin.unmount();\n        });\n        this.plugins = null;\n      }\n    }\n  }, {\n    key: 'getScrollTop',\n    value: function getScrollTop() {\n      return this.scrollElement === win ? this.scrollElement.pageYOffset : this.scrollElement.scrollTop;\n    }\n  }, {\n    key: 'getScrollHeight',\n    value: function getScrollHeight() {\n      return this.scrollElement.scrollHeight || Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight);\n    }\n  }, {\n    key: 'getOffsetHeight',\n    value: function getOffsetHeight() {\n      return this.scrollElement === win ? win.innerHeight : this.scrollElement.getBoundingClientRect().height;\n    }\n  }]);\n\n  return ScrollSpy;\n}();\n\nScrollSpy.defaultConfig = {\n  offset: 0,\n  method: 'auto',\n  menu: '', // 菜单导航\n  menuCls: null, // 自定义菜单样式\n  menuClsPrefix: 'menu', // 菜单样式前缀\n  container: null, // 需要监听的内容容器\n  immedLoad: true, // 是否立即监听，如果设为 false， 则通过滑动鼠标来激活监听\n  prefix: 'menu-', // 导航目录前缀\n  anchor: true, // 是否用锚点来控制，默认用锚点处理\n  animation: true, // 是否开启动画\n  extend: false // 默认菜单没有展开\n};\nexports.default = ScrollSpy;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3Njcm9sbC1zcHkvc2Nyb2xsU3B5LmpzP2ZiZjYiXSwibmFtZXMiOlsid2luIiwid2luZG93IiwiZG9jIiwiZG9jdW1lbnQiLCJBcnJheSIsInByb3RvdHlwZSIsImZvckVhY2giLCJtYXAiLCJTY3JvbGxTcHkiLCJlbGVtZW50IiwiY29uZmlnIiwic2Nyb2xsRXZlbnQiLCJldmVudCIsInByb2Nlc3MiLCJzY3JvbGxFbGVtZW50IiwidGFnTmFtZSIsImdldENvbmZpZyIsIm1lbnUiLCJtZW51Q2xzUHJlZml4IiwiZXh0ZW5kIiwibWVudVNlbGVjdG9yIiwib2Zmc2V0cyIsInRhcmdldHMiLCJhY3RpdmVUYXJnZXQiLCJzY3JvbGxIZWlnaHQiLCJleHRlbmRTdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbW1lZExvYWQiLCJpbml0TWVudXMiLCJhbmNob3IiLCJnZW5lcmF0ZU1lbnVzIiwibWVudVBhbmVsIiwiJG1lbnVQYW5lbCIsInF1ZXJ5U2VsZWN0b3IiLCJtZW51RWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2FsbCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImVsIiwiY3VycmVudFRhcmdldCIsImRhdGFzZXQiLCJvZmZzZXRNZXRob2QiLCJjb250YWluZXIiLCJvZmZzZXRYWSIsIm9mZnNldCIsInRhcmdldEVsIiwicGFyZW50Tm9kZSIsInRvcCIsIm9mZnNldEJhc2UiLCJnZXRTY3JvbGxUb3AiLCJzY3JvbGxUbyIsImJsdXIiLCJwbHVnaW5Db25maWciLCJwbHVnaW5zIiwiaXNBcnJheSIsInBsdWdpbiIsImluc3RhbmNlIiwibW91bnQiLCJwdXNoIiwicmVmcmVzaCIsIl9jb25maWciLCJkZWZhdWx0Q29uZmlnIiwiaWQiLCJib2R5IiwiYXV0b01ldGhvZCIsIm1ldGhvZCIsIm1lbnVzIiwiZW50cmllcyIsImxldmVsIiwiY2hpbGRyZW4iLCJkZXB0aCIsInBhcmVudCIsInRleHQiLCJyb290IiwicHJldkxldmVsIiwibGFzdE5vZGUiLCJpbmRleCIsImVudHJ5IiwicGFyc2VJbnQiLCJhbmNlc3RvciIsImh0bWwiLCJnZW5lcmF0ZU1lbnVzSHRtbCIsInByZWZpeCIsIm5vZGVzIiwibWVudUNscyIsImxlbmd0aCIsImkiLCJsZW4iLCJub2RlIiwibmV3Q2hpbGQiLCJjbGFzc05hbWUiLCJocmVmIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImdldFNjcm9sbEhlaWdodCIsInRhcmdldCIsInNlbGVjdG9yIiwiZ2V0QXR0cmlidXRlIiwidGFyZ2V0U2VsZWN0b3IiLCJ0YXJnZXRCQ1IiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsInNvcnQiLCJhIiwiYiIsIml0ZW0iLCJzY3JvbGxUb3AiLCJtYXhTY3JvbGwiLCJnZXRPZmZzZXRIZWlnaHQiLCJhY3RpdmF0ZSIsImNsZWFyQWN0aXZlQ2xzIiwiaXNBY3RpdmVUYXJnZXQiLCJ1bmRlZmluZWQiLCJxdWVyaWVzIiwic3BsaXQiLCJsYXN0U2VsZWN0b3IiLCJwYXJlbnRFbHMiLCJxdWVyeSIsImNhdGFsb2ciLCJpdCIsImpvaW4iLCIkbGluayIsImNsYXNzTGlzdCIsImFkZCIsInNjcm9sbE1lbnUiLCJhY3RpdmVFbHMiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidW5tb3VudCIsInBhZ2VZT2Zmc2V0IiwiTWF0aCIsIm1heCIsImRvY3VtZW50RWxlbWVudCIsImlubmVySGVpZ2h0IiwiYW5pbWF0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFFQSxJQUFNQSxNQUFNQyxNQUFaO0FBQ0EsSUFBTUMsTUFBTUMsUUFBWjt1QkFDdUJDLE1BQU1DLFM7SUFBdEJDLE8sb0JBQUFBLE87SUFBU0MsRyxvQkFBQUEs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LGFBQUwsS0FBdUJkLEdBQXZCLEdBQ0xBLElBQUk2SSxXQURDLEdBRUwsS0FBSy9ILGFBQUwsQ0FBbUI2RixxQkFBbkIsR0FBMkNFLE1BRjdDO0FBR0Q7Ozs7OztBQWxkR3JHLFMsQ0FDRzJELGEsR0FBZ0I7QUFDckJqQixVQUFRLENBRGE7QUFFckJxQixVQUFRLE1BRmE7QUFHckJ0RCxRQUFNLEVBSGUsRUFHWDtBQUNWeUUsV0FBUyxJQUpZLEVBSU47QUFDZnhFLGlCQUFlLE1BTE0sRUFLRTtBQUN2QjhCLGFBQVcsSUFOVSxFQU1KO0FBQ2pCakIsYUFBVyxJQVBVLEVBT0o7QUFDakJ5RCxVQUFRLE9BUmEsRUFRSjtBQUNqQnZELFVBQVEsSUFUYSxFQVNQO0FBQ2Q2RyxhQUFXLElBVlUsRUFVSjtBQUNqQjNILFVBQVEsS0FYYSxDQVdOO0FBWE0sQztrQkFxZFZYLFMiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Z2V0VXVpZCwgaXNXaGVlbCwgb2Zmc2V0LCBwb3NpdGlvbn0gZnJvbSAnLi4vYmFzZS91dGlsJztcblxuY29uc3Qgd2luID0gd2luZG93O1xuY29uc3QgZG9jID0gZG9jdW1lbnQ7XG5jb25zdCB7Zm9yRWFjaCwgbWFwfSA9IEFycmF5LnByb3RvdHlwZTtcblxuY2xhc3MgU2Nyb2xsU3B5IHtcbiAgc3RhdGljIGRlZmF1bHRDb25maWcgPSB7XG4gICAgb2Zmc2V0OiAwLFxuICAgIG1ldGhvZDogJ2F1dG8nLFxuICAgIG1lbnU6ICcnLCAvLyDoj5zljZXlr7zoiKpcbiAgICBtZW51Q2xzOiBudWxsLCAvLyDoh6rlrprkuYnoj5zljZXmoLflvI9cbiAgICBtZW51Q2xzUHJlZml4OiAnbWVudScsIC8vIOiPnOWNleagt+W8j+WJjee8gFxuICAgIGNvbnRhaW5lcjogbnVsbCwgLy8g6ZyA6KaB55uR5ZCs55qE5YaF5a655a655ZmoXG4gICAgaW1tZWRMb2FkOiB0cnVlLCAvLyDmmK/lkKbnq4vljbPnm5HlkKzvvIzlpoLmnpzorr7kuLogZmFsc2XvvIwg5YiZ6YCa6L+H5ruR5Yqo6byg5qCH5p2l5r+A5rS755uR5ZCsXG4gICAgcHJlZml4OiAnbWVudS0nLCAvLyDlr7zoiKrnm67lvZXliY3nvIBcbiAgICBhbmNob3I6IHRydWUsIC8vIOaYr+WQpueUqOmUmueCueadpeaOp+WItu+8jOm7mOiupOeUqOmUmueCueWkhOeQhlxuICAgIGFuaW1hdGlvbjogdHJ1ZSwgLy8g5piv5ZCm5byA5ZCv5Yqo55S7XG4gICAgZXh0ZW5kOiBmYWxzZSwgLy8g6buY6K6k6I+c5Y2V5rKh5pyJ5bGV5byAXG4gIH07XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnID0ge30pIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuc2Nyb2xsRWxlbWVudCA9IGVsZW1lbnQudGFnTmFtZSA9PT0gJ0JPRFknID8gd2luIDogZWxlbWVudDtcbiAgICB0aGlzLmNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3Qge21lbnUsIG1lbnVDbHNQcmVmaXgsIGV4dGVuZH0gPSB0aGlzLmNvbmZpZztcbiAgICAvLyDoj5zljZUg55uu5b2VIOetiemAieaLqeWZqFxuICAgIHRoaXMubWVudVNlbGVjdG9yID0gYCR7bWVudX0gLiR7bWVudUNsc1ByZWZpeH0tdGl0bGVgO1xuICAgIHRoaXMub2Zmc2V0cyA9IFtdO1xuICAgIHRoaXMudGFyZ2V0cyA9IFtdO1xuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnNjcm9sbEhlaWdodCA9IDA7XG5cbiAgICAvLyDlpoLmnpzpu5jorqTkuI3lsZXlvIDvvIzliJnnlKjmoLflvI/mnaXmjqfliLZcbiAgICBpZiAoIWV4dGVuZCkge1xuICAgICAgY29uc3QgZXh0ZW5kU3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIGV4dGVuZFN0eWxlLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAubWVudS1jYXRhbG9ndWUgLm1lbnUtY2F0YWxvZ3VlIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5hY3RpdmUgKyAubWVudS1jYXRhbG9ndWUge1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgfWA7XG4gICAgICBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmQoZXh0ZW5kU3R5bGUpO1xuICAgIH1cblxuICAgIC8vIOa3u+WKoOS6i+S7tu+8jOmhtemdoua7muWKqOaXtu+8jOWkhOeQhuebruW9leWSjOWGheWuueWvueW6lOWdkOagh1xuICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGlzV2hlZWwgPyAnbW91c2V3aGVlbCcgOiAnRE9NTW91c2VTY3JvbGwnLCB0aGlzLnNjcm9sbEV2ZW50LCBmYWxzZSk7XG4gICAgY29uc3Qge2ltbWVkTG9hZCwgaW5pdE1lbnVzLCBhbmNob3J9ID0gdGhpcy5jb25maWc7XG4gICAgLy8g6ZyA6KaB5qC55o2u5YaF5a655Yqo5oCB5Yib5bu66I+c5Y2V5YiX6KGoXG4gICAgaWYgKGluaXRNZW51cykge1xuICAgICAgdGhpcy5nZW5lcmF0ZU1lbnVzKCk7XG4gICAgfVxuXG4gICAgLy8g6I+c5Y2V6Z2i5p2/XG4gICAgdGhpcy5tZW51UGFuZWwgPSBgJHttZW51fSAuJHttZW51Q2xzUHJlZml4fS4ke21lbnVDbHNQcmVmaXh9LWNhdGFsb2d1ZWA7XG4gICAgdGhpcy4kbWVudVBhbmVsID0gZG9jLnF1ZXJ5U2VsZWN0b3IodGhpcy5tZW51UGFuZWwpO1xuXG4gICAgLy8g5LiN55So6ZSa54K55aSE55CG55qE5oOF5Ya1XG4gICAgaWYgKGFuY2hvciA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGZpeG1lIOW+heaUuei/m++8jOaUueaIkCDkuovku7bku6PnkIbmqKHlvI9cbiAgICAgIGNvbnN0IG1lbnVFbGVtZW50cyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubWVudVNlbGVjdG9yKTtcbiAgICAgIGZvckVhY2guY2FsbChtZW51RWxlbWVudHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGNvbnN0IGVsID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgIGNvbnN0IHttZW51fSA9IGVsLmRhdGFzZXQ7XG4gICAgICAgICAgY29uc3Qge29mZnNldE1ldGhvZCwgY29udGFpbmVyfSA9IHRoaXMuY29uZmlnO1xuICAgICAgICAgIGNvbnN0IG9mZnNldFhZID0gdGhpcy5jb25maWcub2Zmc2V0O1xuXG4gICAgICAgICAgY29uc3QgdGFyZ2V0RWwgPSBkb2MucXVlcnlTZWxlY3RvcihgJHtjb250YWluZXJ9IFtkYXRhLXRhcmdldD1cIiR7bWVudX1cIl1gKS5wYXJlbnROb2RlO1xuICAgICAgICAgIGNvbnN0IHRvcCA9IG9mZnNldE1ldGhvZCA9PT0gJ29mZnNldCcgPyBvZmZzZXQodGFyZ2V0RWwpLnRvcCA6IHBvc2l0aW9uKHRhcmdldEVsKS50b3A7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0QmFzZSA9IG9mZnNldE1ldGhvZCA9PT0gJ3Bvc2l0aW9uJyA/IHRoaXMuZ2V0U2Nyb2xsVG9wKCkgOiAwO1xuXG4gICAgICAgICAgLy8gZml4bWVcbiAgICAgICAgICB0aGlzLnNjcm9sbEVsZW1lbnQuc2Nyb2xsVG8oMCwgdG9wICsgb2Zmc2V0QmFzZSAtIG9mZnNldFhZKTtcbiAgICAgICAgICBlbC5ibHVyKCk7XG4gICAgICAgICAgdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIOWKoOi9veaPkuS7tlxuICAgIGNvbnN0IHtwbHVnaW5Db25maWd9ID0gdGhpcy5jb25maWc7XG4gICAgbGV0IHtwbHVnaW5zfSA9IHRoaXMuY29uZmlnO1xuICAgIGlmIChwbHVnaW5zKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGx1Z2lucykpIHtcbiAgICAgICAgcGx1Z2lucyA9IFtwbHVnaW5zXTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGx1Z2lucyA9IFtdO1xuICAgICAgY29uc3Qge2NvbnRhaW5lcn0gPSB0aGlzLmNvbmZpZztcbiAgICAgIHBsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PiB7XG4gICAgICAgIC8vIOaKiuW9k+WJjeWunuS+i+S8oOe7meaPkuS7tlxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBwbHVnaW4odGhpcywgcGx1Z2luQ29uZmlnKTtcbiAgICAgICAgaW5zdGFuY2UubW91bnQoKTtcbiAgICAgICAgdGhpcy5wbHVnaW5zLnB1c2goaW5zdGFuY2UpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8g5pi+56S66I+c5Y2VXG4gICAgLy8gZG9jLnF1ZXJ5U2VsZWN0b3IobWVudSkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgaWYgKGltbWVkTG9hZCkge1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICB9XG4gIH1cblxuICBnZXRDb25maWcoY29uZmlnKSB7XG4gICAgY29uc3QgX2NvbmZpZyA9IHsuLi5TY3JvbGxTcHkuZGVmYXVsdENvbmZpZywgLi4uY29uZmlnfTtcblxuICAgIGNvbnN0IHttZW51fSA9IF9jb25maWc7XG4gICAgbGV0IHtjb250YWluZXJ9ID0gX2NvbmZpZztcblxuICAgIGlmICh0eXBlb2YgbWVudSAhPT0gJ3N0cmluZycpIHsgLy8gZG9tIOWvueixoVxuICAgICAgbGV0IHtpZH0gPSBtZW51O1xuICAgICAgaWYgKCFpZCkge1xuICAgICAgICBpZCA9IGdldFV1aWQoJ3Njcm9sbHNweScpO1xuICAgICAgICBtZW51LmlkID0gaWQ7XG4gICAgICB9XG4gICAgICBfY29uZmlnLm1lbnUgPSBgIyR7aWR9YDtcbiAgICB9XG5cbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgY29udGFpbmVyID0gZG9jLmJvZHk7IC8vIOm7mOiupOWPliBib2R5XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29udGFpbmVyICE9PSAnc3RyaW5nJykge1xuICAgICAgbGV0IHtpZH0gPSBjb250YWluZXI7XG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIGlkID0gZ2V0VXVpZCgnc2Nyb2xsc3B5Jyk7XG4gICAgICAgIGNvbnRhaW5lci5pZCA9IGlkO1xuICAgICAgfVxuICAgICAgX2NvbmZpZy5jb250YWluZXIgPSBgIyR7aWR9YDtcbiAgICB9XG5cbiAgICBjb25zdCBhdXRvTWV0aG9kID0gdGhpcy5zY3JvbGxFbGVtZW50ICE9PSB0aGlzLnNjcm9sbEVsZW1lbnQud2luZG93ID9cbiAgICAgICdwb3NpdGlvbicgOlxuICAgICAgJ29mZnNldCc7XG5cbiAgICBjb25zdCBvZmZzZXRNZXRob2QgPSBfY29uZmlnLm1ldGhvZCA9PT0gJ2F1dG8nID9cbiAgICAgIGF1dG9NZXRob2QgOlxuICAgICAgX2NvbmZpZy5tZXRob2Q7XG5cbiAgICBfY29uZmlnLm9mZnNldE1ldGhvZCA9IG9mZnNldE1ldGhvZDtcblxuICAgIHJldHVybiBfY29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIOWKqOaAgeWIm+W7uuiPnOWNlVxuICAgKi9cbiAgZ2VuZXJhdGVNZW51cygpIHtcbiAgICBjb25zdCBtZW51cyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoMSxoMixoMyxoNCxoNSxoNicpO1xuICAgIC8vIOWIneWni+WMluagueiKgueCuVxuICAgIGNvbnN0IGVudHJpZXMgPSB7XG4gICAgICBsZXZlbDogMCxcbiAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgIGRlcHRoOiAwLFxuICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgdGV4dDogbnVsbCxcbiAgICAgIHJvb3Q6IHRydWVcbiAgICB9O1xuXG4gICAgLy8g5YmN5LiA5Liq5YWD57SgIGxldmVsXG4gICAgbGV0IHByZXZMZXZlbCA9IDA7XG4gICAgLy8g5LiK5LiA5Liq6IqC54K5XG4gICAgbGV0IGxhc3ROb2RlID0gbnVsbDtcblxuICAgIGZvckVhY2guY2FsbChtZW51cywgKGVsLCBpbmRleCkgPT4ge1xuICAgICAgbGV0IGVudHJ5ID0gbnVsbDtcbiAgICAgIGNvbnN0IGxldmVsID0gNyAtIHBhcnNlSW50KGVsLnRhZ05hbWVbMV0sIDEwKTtcbiAgICAgIGNvbnN0IHRleHQgPSBlbC5pbm5lckhUTUw7XG5cbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAvLyDliJ3lp4vljJbnrKzkuIDkuKrlhYPntKBcbiAgICAgICAgZW50cnkgPSB7XG4gICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgIGRlcHRoOiAxLFxuICAgICAgICAgIHBhcmVudDogZW50cmllcyxcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICAgIGVsXG4gICAgICAgIH07XG4gICAgICAgIGVudHJpZXMuY2hpbGRyZW4ucHVzaChlbnRyeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobGV2ZWwgPT09IHByZXZMZXZlbCkgeyAvLyDnm7jnrYnnmoTor51cbiAgICAgICAgICBlbnRyeSA9IHtcbiAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgZGVwdGg6IGxhc3ROb2RlLmRlcHRoLFxuICAgICAgICAgICAgcGFyZW50OiBsYXN0Tm9kZS5wYXJlbnQsXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgZWxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGxhc3ROb2RlLnBhcmVudC5jaGlsZHJlbi5wdXNoKGVudHJ5KTtcbiAgICAgICAgfSBlbHNlIGlmIChsZXZlbCA8IHByZXZMZXZlbCkgeyAvLyDlpoLmnpzlvZPliY3nuqfliKvlsI/kuo7liY3kuIDkuKpcbiAgICAgICAgICBlbnRyeSA9IHtcbiAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgZGVwdGg6IGxhc3ROb2RlLmRlcHRoICsgMSxcbiAgICAgICAgICAgIHBhcmVudDogbGFzdE5vZGUsXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgZWxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGxhc3ROb2RlLmNoaWxkcmVuLnB1c2goZW50cnkpO1xuICAgICAgICB9IGVsc2UgeyAvLyDlpoLmnpzlvZPliY3nuqfliKvlpKfkuo7liY3kuIDkuKog5p+l5om+56WW5YWI6IqC54K5XG4gICAgICAgICAgbGV0IGFuY2VzdG9yID0gbGFzdE5vZGUucGFyZW50O1xuICAgICAgICAgIHdoaWxlIChhbmNlc3Rvci5sZXZlbCA8PSBsZXZlbCAmJiAhYW5jZXN0b3Iucm9vdCkge1xuICAgICAgICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVudHJ5ID0ge1xuICAgICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICBkZXB0aDogYW5jZXN0b3IuZGVwdGggKyAxLFxuICAgICAgICAgICAgcGFyZW50OiBhbmNlc3RvcixcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICBlbFxuICAgICAgICAgIH07XG4gICAgICAgICAgYW5jZXN0b3IuY2hpbGRyZW4ucHVzaChlbnRyeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxhc3ROb2RlID0gZW50cnk7XG4gICAgICBwcmV2TGV2ZWwgPSBsZXZlbDtcbiAgICB9KTtcblxuICAgIGNvbnN0IGh0bWwgPSB0aGlzLmdlbmVyYXRlTWVudXNIdG1sKGVudHJpZXMuY2hpbGRyZW4sIHRoaXMuY29uZmlnLnByZWZpeCk7XG4gICAgZG9jLnF1ZXJ5U2VsZWN0b3IodGhpcy5jb25maWcubWVudSkuaW5uZXJIVE1MID0gaHRtbDtcbiAgfVxuXG4gIC8qKlxuICAgKiDmoLnmja4gbm9kZXMg6IqC54K5IOeUn+aIkCBodG1sXG4gICAqIEBwYXJhbSBub2Rlc1xuICAgKiBAcGFyYW0gcHJlZml4XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIGdlbmVyYXRlTWVudXNIdG1sKG5vZGVzLCBwcmVmaXgpIHtcbiAgICBjb25zdCB7bWVudUNsc1ByZWZpeCwgbWVudUNsc30gPSB0aGlzLmNvbmZpZztcbiAgICBsZXQgaHRtbCA9ICcnO1xuICAgIGlmIChub2RlcyAmJiBub2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICBodG1sID0gYDx1bCBjbGFzcz1cIiR7bWVudUNsc1ByZWZpeH0gJHttZW51Q2xzUHJlZml4fS1jYXRhbG9ndWUke21lbnVDbHMgPyBgICR7bWVudUNsc31gIDogJyd9XCI+YDtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIC8vIOS4uuWvueW6lOeahOWGheWuueWKoOmUmueCuVxuICAgICAgICBjb25zdCBuZXdDaGlsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgbmV3Q2hpbGQuaWQgPSBwcmVmaXggKyAoaSArIDEpO1xuICAgICAgICBuZXdDaGlsZC5jbGFzc05hbWUgPSBgJHttZW51Q2xzUHJlZml4fS1hbmNob3JgO1xuICAgICAgICBpZiAodGhpcy5jb25maWcuYW5jaG9yKSB7XG4gICAgICAgICAgbmV3Q2hpbGQuaHJlZiA9IGAjJHtwcmVmaXggKyAoaSArIDEpfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3Q2hpbGQuZGF0YXNldC5tZW51ID0gYCR7cHJlZml4ICsgKGkgKyAxKX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3Q2hpbGQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuICAgICAgICBub2RlLmVsLmluc2VydEJlZm9yZShuZXdDaGlsZCwgbm9kZS5lbC5maXJzdENoaWxkKTtcblxuICAgICAgICBodG1sICs9ICc8bGk+JztcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmFuY2hvcikge1xuICAgICAgICAgIGh0bWwgKz0gYDxhIGNsYXNzPVwiJHttZW51Q2xzUHJlZml4fS10aXRsZVwiIGhyZWY9XCIjJHtwcmVmaXh9JHtpICsgMX1cIj4ke25vZGUudGV4dH08L2E+YDtcbiAgICAgICAgfSBlbHNlIHsgLy8g55SoIGRhdGEtdGFyZ2V0IOadpeaOp+WItu+8jOmcgOimgee7k+WQiCBqcyDmnaXmjqfliLZcbiAgICAgICAgICBodG1sICs9IGA8YSBjbGFzcz1cIiR7bWVudUNsc1ByZWZpeH0tdGl0bGVcIiBkYXRhLXRhcmdldD1cIiR7cHJlZml4fSR7aSArIDF9XCIgaHJlZj1cIiNcIj4ke25vZGUudGV4dH08L2E+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBodG1sICs9IHRoaXMuZ2VuZXJhdGVNZW51c0h0bWwobm9kZS5jaGlsZHJlbiwgYCR7cHJlZml4fSR7aSArIDF9LWApO1xuICAgICAgICB9XG4gICAgICAgIGh0bWwgKz0gJzwvbGk+JztcbiAgICAgIH1cbiAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICB9XG4gICAgcmV0dXJuIGh0bWw7XG4gIH1cblxuICAvKipcbiAgICog5rua5Yqo6aG16Z2i5pe277yM5Yi35paw55u45YWz5pWw5o2uXG4gICAqL1xuICByZWZyZXNoKCkge1xuICAgIGNvbnN0IHtvZmZzZXRNZXRob2R9ID0gdGhpcy5jb25maWc7XG4gICAgY29uc3Qgb2Zmc2V0QmFzZSA9IG9mZnNldE1ldGhvZCA9PT0gJ3Bvc2l0aW9uJyA/IHRoaXMuZ2V0U2Nyb2xsVG9wKCkgOiAwO1xuXG4gICAgdGhpcy5vZmZzZXRzID0gW107XG4gICAgdGhpcy50YXJnZXRzID0gW107XG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpO1xuXG5cbiAgICAvLyDmiormu5rliqjnm5HlkKznmoTlhYPntKDlkozlnZDmoIfkv53lrZjliLBvZmZzZXRz5ZKMdGFyZ2V0c+S4rVxuICAgIGNvbnN0IG1lbnVFbGVtZW50cyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubWVudVNlbGVjdG9yKTtcblxuICAgIG1hcC5jYWxsKG1lbnVFbGVtZW50cywgKGVsZW1lbnQpID0+IHtcbiAgICAgIC8vIOebruagh+WFg+e0oFxuICAgICAgbGV0IHRhcmdldCA9IG51bGw7XG4gICAgICBjb25zdCB7YW5jaG9yLCBjb250YWluZXJ9ID0gdGhpcy5jb25maWc7XG4gICAgICBjb25zdCBzZWxlY3RvciA9IGFuY2hvciA/IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdocmVmJykgOiBlbGVtZW50LmRhdGFzZXQubWVudTtcbiAgICAgIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gYW5jaG9yID9cbiAgICAgICAgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA6XG4gICAgICAgIGAke2NvbnRhaW5lcn0gW2RhdGEtdGFyZ2V0PVwiJHtlbGVtZW50LmRhdGFzZXQubWVudX1cIl1gO1xuXG4gICAgICBpZiAodGFyZ2V0U2VsZWN0b3IpIHtcbiAgICAgICAgdGFyZ2V0ID0gZG9jLnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3IpLnBhcmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldEJDUiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHRhcmdldEJDUi53aWR0aCB8fCB0YXJnZXRCQ1IuaGVpZ2h0KSB7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIChvZmZzZXRNZXRob2QgPT09ICdvZmZzZXQnID8gb2Zmc2V0KHRhcmdldCkudG9wIDogcG9zaXRpb24odGFyZ2V0KS50b3ApICsgb2Zmc2V0QmFzZSxcbiAgICAgICAgICAgIHNlbGVjdG9yXG4gICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgaWYgKCFhIHx8ICFiKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xuICAgIH0pLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIHRoaXMub2Zmc2V0cy5wdXNoKGl0ZW1bMF0pO1xuICAgICAgICB0aGlzLnRhcmdldHMucHVzaChpdGVtWzFdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIOm8oOagh+a7muWKqOS6i+S7tlxuICBzY3JvbGxFdmVudCA9IChldmVudCkgPT4ge1xuICAgIHRoaXMucHJvY2VzcygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiDmu5rliqjml7bop6blj5Hor6Xmlrnms5VcbiAgICogQHJldHVybnMge2Jvb2xlYW58Kn1cbiAgICovXG4gIHByb2Nlc3MoKSB7XG4gICAgLy8g6ZyA6KaB5YqgIDEg5b6u6LCDXG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gdGhpcy5nZXRTY3JvbGxUb3AoKSArIHRoaXMuY29uZmlnLm9mZnNldCArIDE7XG4gICAgY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKTtcbiAgICBjb25zdCBtYXhTY3JvbGwgPSB0aGlzLmNvbmZpZy5vZmZzZXRcbiAgICAgICsgc2Nyb2xsSGVpZ2h0XG4gICAgICAtIHRoaXMuZ2V0T2Zmc2V0SGVpZ2h0KCk7XG5cbiAgICAvLyDkuI3nm7jnrYnnmoTor53vvIzph43mlrDliLfmlrDvvIzmr5TlpoLmlLnlj5jpobXpnaLnqpflj6PlkI5cbiAgICBpZiAodGhpcy5zY3JvbGxIZWlnaHQgIT09IHNjcm9sbEhlaWdodCkge1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgLy8g5ruR5Yiw5bqV6YOoXG4gICAgaWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGwpIHtcbiAgICAgIC8vIOWPluacgOWQjuS4gOS4qlxuICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy50YXJnZXRzW3RoaXMudGFyZ2V0cy5sZW5ndGggLSAxXTtcblxuICAgICAgaWYgKHRoaXMuYWN0aXZlVGFyZ2V0ICE9PSB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSh0YXJnZXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOa7keWIsOWktOmDqFxuICAgIGlmICh0aGlzLmFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPCB0aGlzLm9mZnNldHNbMF0gJiYgdGhpcy5vZmZzZXRzWzBdID4gMCkge1xuICAgICAgdGhpcy5hY3RpdmVUYXJnZXQgPSBudWxsO1xuICAgICAgdGhpcy5jbGVhckFjdGl2ZUNscygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSB0aGlzLm9mZnNldHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICBjb25zdCBpc0FjdGl2ZVRhcmdldCA9IHRoaXMuYWN0aXZlVGFyZ2V0ICE9PSB0aGlzLnRhcmdldHNbaV1cbiAgICAgICAgJiYgc2Nyb2xsVG9wID49IHRoaXMub2Zmc2V0c1tpXVxuICAgICAgICAmJiAodGhpcy5vZmZzZXRzW2kgKyAxXSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgc2Nyb2xsVG9wIDwgdGhpcy5vZmZzZXRzW2kgKyAxXSk7XG5cbiAgICAgIGlmIChpc0FjdGl2ZVRhcmdldCkge1xuICAgICAgICB0aGlzLmFjdGl2YXRlKHRoaXMudGFyZ2V0c1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9ruW9k+WJjea0u+WKqOeahOWGheWuuVxuICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAqL1xuICBhY3RpdmF0ZSh0YXJnZXQpIHtcbiAgICB0aGlzLmFjdGl2ZVRhcmdldCA9IHRhcmdldDtcblxuICAgIHRoaXMuY2xlYXJBY3RpdmVDbHMoKTtcblxuICAgIGNvbnN0IHthbmNob3J9ID0gdGhpcy5jb25maWc7XG4gICAgbGV0IHF1ZXJpZXMgPSB0aGlzLm1lbnVTZWxlY3Rvci5zcGxpdCgnLCcpO1xuICAgIGNvbnN0IGxhc3RTZWxlY3RvciA9IFtdOyAvLyDmnIDlkI7kuIDkuKroj5zljZXpobnvvIzljbPlvZPliY3nmoTlrZDoioLngrlcbiAgICAvLyDlvZPliY3pgInkuK3nmoTlkozniLbnm67lvZXpg73mt7vliqDmtLvliqjmoLflvI9cbiAgICBjb25zdCBwYXJlbnRFbHMgPSB0YXJnZXQuc3BsaXQoJy0nKTtcbiAgICBxdWVyaWVzID0gcXVlcmllcy5tYXAoKHF1ZXJ5KSA9PiB7XG4gICAgICBjb25zdCBzZWxlY3RvciA9IFtdO1xuICAgICAgbGV0IGNhdGFsb2cgPSAnJztcbiAgICAgIHBhcmVudEVscy5mb3JFYWNoKChpdCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgY2F0YWxvZyArPSBpdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYXRhbG9nICs9IGAtJHtpdH1gO1xuICAgICAgICAgIHNlbGVjdG9yLnB1c2goYW5jaG9yID8gYCR7cXVlcnl9W2hyZWY9XCIke2NhdGFsb2d9XCJdYCA6IGAke3F1ZXJ5fVtkYXRhLW1lbnU9XCIke2NhdGFsb2d9XCJdYCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbGFzdFNlbGVjdG9yLnB1c2goc2VsZWN0b3Jbc2VsZWN0b3IubGVuZ3RoIC0gMV0pO1xuICAgICAgcmV0dXJuIHNlbGVjdG9yLmpvaW4oJywnKTtcbiAgICB9KTtcblxuICAgIGNvbnN0ICRsaW5rID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwocXVlcmllcy5qb2luKCcsJykpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9ICRsaW5rLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAkbGlua1tpXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9XG5cbiAgICB0aGlzLnBsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHBsdWdpbi5zY3JvbGxNZW51ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBsdWdpbi5zY3JvbGxNZW51KGxhc3RTZWxlY3Rvcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyB0b2RvIOS6i+S7tu+8jOW+heihpeWFhVxuXG4gICAgLyogJCh0aGlzLl9zY3JvbGxFbGVtZW50KS50cmlnZ2VyKEV2ZW50LkFDVElWQVRFLCB7XG4gICAgIHJlbGF0ZWRUYXJnZXQ6IHRhcmdldFxuICAgICB9KSAqL1xuICB9XG5cbiAgY2xlYXJBY3RpdmVDbHMoKSB7XG4gICAgLy8g5Yig6Zmk5b2T5YmN5rS75Yqo5qC35byPXG4gICAgY29uc3QgYWN0aXZlRWxzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoYCR7dGhpcy5tZW51U2VsZWN0b3J9LmFjdGl2ZWApO1xuICAgIGlmIChhY3RpdmVFbHMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhY3RpdmVFbHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYWN0aXZlRWxzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOWNuOi9vVxuICB1bm1vdW50KCkge1xuICAgIC8vICQucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSlcbiAgICB0aGlzLnNjcm9sbEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihpc1doZWVsID8gJ21vdXNld2hlZWwnIDogJ0RPTU1vdXNlU2Nyb2xsJywgdGhpcy5zY3JvbGxFdmVudCwgZmFsc2UpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLnNjcm9sbEVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuY29uZmlnID0gbnVsbDtcbiAgICB0aGlzLm1lbnUgPSBudWxsO1xuICAgIHRoaXMubWVudVNlbGVjdG9yID0gbnVsbDtcbiAgICB0aGlzLmNvbnRhaW5lciA9IG51bGw7XG4gICAgdGhpcy5vZmZzZXRzID0gbnVsbDtcbiAgICB0aGlzLnRhcmdldHMgPSBudWxsO1xuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnNjcm9sbEhlaWdodCA9IG51bGw7XG5cbiAgICAvLyDljbjovb3mj5Lku7ZcbiAgICBpZiAodGhpcy5wbHVnaW5zKSB7XG4gICAgICB0aGlzLnBsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PiB7XG4gICAgICAgIHBsdWdpbi51bm1vdW50KCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucGx1Z2lucyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsVG9wKCkge1xuICAgIHJldHVybiB0aGlzLnNjcm9sbEVsZW1lbnQgPT09IHdpbiA/XG4gICAgICB0aGlzLnNjcm9sbEVsZW1lbnQucGFnZVlPZmZzZXQgOlxuICAgICAgdGhpcy5zY3JvbGxFbGVtZW50LnNjcm9sbFRvcDtcbiAgfVxuXG4gIGdldFNjcm9sbEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5zY3JvbGxFbGVtZW50LnNjcm9sbEhlaWdodCB8fFxuICAgICAgTWF0aC5tYXgoXG4gICAgICAgIGRvYy5ib2R5LnNjcm9sbEhlaWdodCxcbiAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHRcbiAgICAgICk7XG4gIH1cblxuICBnZXRPZmZzZXRIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2Nyb2xsRWxlbWVudCA9PT0gd2luID9cbiAgICAgIHdpbi5pbm5lckhlaWdodCA6XG4gICAgICB0aGlzLnNjcm9sbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2Nyb2xsU3B5O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9zY3JvbGwtc3B5L3Njcm9sbFNweS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(0);\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar isWheel = _util2.default.isWheel;\n\n\nvar win = window;\nvar doc = document;\nvar resizeEvt = 'orientationchange' in win ? 'orientationchange' : 'resize';\n\nvar reg = /translateY\\(([-\\w]+)\\)/;\n\nvar CatalogueSpy = function () {\n  function CatalogueSpy(scrollSpy) {\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, CatalogueSpy);\n\n    _initialiseProps.call(this);\n\n    this.scrollSpy = scrollSpy;\n    this.config = _extends({}, CatalogueSpy.defaultConfig, config);\n\n    var menuHeight = this.config.menuHeight;\n\n    if (!menuHeight) {\n      menuHeight = document.documentElement.clientHeight - 64;\n      this.config.menuHeight = menuHeight;\n    }\n\n    var $menuPanel = scrollSpy.$menuPanel;\n\n    $menuPanel.style.transform = 'translateY(0)';\n    $menuPanel.style.maxHeight = menuHeight + 'px';\n    this.$menuPanel = $menuPanel;\n\n    win.addEventListener(resizeEvt, this.adjustMenuHeight, false);\n  }\n\n  // 调整菜单最大高度\n\n\n  _createClass(CatalogueSpy, [{\n    key: 'mount',\n    value: function mount() {\n      // fixme 待改进，改成 scrollSpy 触发该事件，参考 web-guide 项目\n      // http://www.zhangxinxu.com/wordpress/2013/04/js-mousewheel-dommousescroll-event/\n      this.$menuPanel.addEventListener(isWheel ? 'mousewheel' : 'DOMMouseScroll', this.handleScroll(true), false);\n    }\n\n    // 当定位到某一个菜单项时，而由于限制了高度，该菜单有可能不在可视范围内\n\n  }, {\n    key: 'unmount',\n    value: function unmount() {\n      console.info('待补充');\n      win.removeEventListener(resizeEvt, this.adjustMenuHeight, false);\n    }\n  }]);\n\n  return CatalogueSpy;\n}();\n\nCatalogueSpy.defaultConfig = {\n  menuHeight: null, // 设置菜单高度，如果不设置，则取当前浏览器可视高度\n  step: 30 // 滚动鼠标，菜单滑动步长\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this.adjustMenuHeight = function () {\n    var menuHeight = doc.documentElement.clientHeight - 64;\n    _this.$menuPanel.style.maxHeight = menuHeight + 'px';\n  };\n\n  this.handleScroll = function (prevent) {\n    return function (event) {\n      var _$menuPanel = _this.$menuPanel,\n          scrollHeight = _$menuPanel.scrollHeight,\n          clientHeight = _$menuPanel.clientHeight;\n      var step = _this.config.step;\n\n      _this.maxOffset = scrollHeight - clientHeight; // 最大滚动的高度\n\n      if (prevent && _this.maxOffset > 0) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n\n      // 判断鼠标滑轮向上还是向下滑动\n      var upDown = void 0;\n      var detail = event.detail,\n          wheelDelta = event.wheelDelta;\n\n      if (detail) {\n        if (detail < 0) {\n          // up\n          upDown = 'up';\n        } else if (detail > 0) {\n          // down\n          upDown = 'down';\n        }\n      } else if (wheelDelta) {\n        //\n        if (wheelDelta > 0) {\n          // up\n          upDown = 'up';\n        }\n        if (wheelDelta < 0) {\n          // down\n          upDown = 'down';\n        }\n      }\n\n      var transform = _this.$menuPanel.style.transform;\n\n\n      var y = reg.exec(transform);\n      y = y ? parseFloat(y[1], 10) : 0;\n\n      if (upDown === 'up' && y === 0 || upDown === 'down' && Math.abs(y) === _this.maxOffset) {\n        return;\n      }\n\n      if (upDown === 'up' && y < 0) {\n        _this.$menuPanel.style.transform = 'translateY(' + Math.min(y + step, 0) + 'px)';\n      } else if (upDown === 'down' && Math.abs(y) < _this.maxOffset) {\n        _this.$menuPanel.style.transform = 'translateY(' + Math.max(y - step, -_this.maxOffset) + 'px)';\n      }\n    };\n  };\n\n  this.scrollMenu = function (lastSelector) {\n    var step = _this.config.step;\n    var $menuPanel = _this.$menuPanel;\n    var scrollHeight = $menuPanel.scrollHeight,\n        clientHeight = $menuPanel.clientHeight;\n\n    var maxOffset = scrollHeight - clientHeight; // 最大滚动的高度\n    if (maxOffset === 0) {\n      return;\n    }\n    maxOffset += 1; // 由于计算偏差，需要微调1个像素\n    // 如果当前菜单项隐藏，则向上拉\n    // Fixme 注意这里还需计算 $menuPanel.parentElement padding 和 border 的值，待处理\n    var menuRect = $menuPanel.parentElement.getBoundingClientRect();\n    var currentTarget = doc.querySelectorAll(lastSelector.join(','));\n    if (currentTarget) {\n      Array.prototype.forEach.call(currentTarget, function (el) {\n        var rect = el.getBoundingClientRect();\n        while (rect.top > 0 && rect.bottom > 0 && (rect.top < menuRect.top || rect.bottom > menuRect.bottom)) {\n          // 向上移动\n          var transform = $menuPanel.style.transform;\n\n          var y = reg.exec(transform);\n          y = y ? parseFloat(y[1], 10) : 0;\n          if (rect.top < menuRect.top) {\n            $menuPanel.style.transform = 'translateY(' + Math.min(y + step, 0) + 'px)';\n          } else {\n            $menuPanel.style.transform = 'translateY(' + Math.max(y - step, -maxOffset) + 'px)';\n          }\n          rect = el.getBoundingClientRect();\n        }\n      });\n    }\n  };\n};\n\nexports.default = CatalogueSpy;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3Njcm9sbC1zcHkvcGx1Z2lucy9jYXRhbG9ndWVTcHkuanM/YjVjNiJdLCJuYW1lcyI6WyJpc1doZWVsIiwid2luIiwid2luZG93IiwiZG9jIiwiZG9jdW1lbnQiLCJyZXNpemVFdnQiLCJyZWciLCJDYXRhbG9ndWVTcHkiLCJzY3JvbGxTcHkiLCJjb25maWciLCJkZWZhdWx0Q29uZmlnIiwibWVudUhlaWdodCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudEhlaWdodCIsIiRtZW51UGFuZWwiLCJzdHlsZSIsInRyYW5zZm9ybSIsIm1heEhlaWdodCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGp1c3RNZW51SGVpZ2h0IiwiaGFuZGxlU2Nyb2xsIiwiY29uc29sZSIsImluZm8iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3RlcCIsInByZXZlbnQiLCJldmVudCIsInNjcm9sbEhlaWdodCIsIm1heE9mZnNldCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwidXBEb3duIiwiZGV0YWlsIiwid2hlZWxEZWx0YSIsInkiLCJleGVjIiwicGFyc2VGbG9hdCIsIk1hdGgiLCJhYnMiLCJtaW4iLCJtYXgiLCJzY3JvbGxNZW51IiwibGFzdFNlbGVjdG9yIiwibWVudVJlY3QiLCJwYXJlbnRFbGVtZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY3VycmVudFRhcmdldCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJqb2luIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJmb3JFYWNoIiwiY2FsbCIsImVsIiwicmVjdCIsInRvcCIsImJvdHRvbSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Ozs7OztJQUVPQSxPLGtCQUFBQSxPOzs7QUFFUCxJQUFNQyxNQUFNQyxNQUFaO0FBQ0EsSUFBTUMsTUFBTUMsUUFBWjtBQUNBLElBQU1DLFlBQVksdUJBQXVCSixHQUF2QixHQUE2QixtQkFBN0IsR0FBbUQsUUFBckU7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Q0YsT0FiRDtBQWNEO0FBQ0YsRzs7O2tCQVNZdEMsWSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV0aWwgZnJvbSAnLi4vLi4vYmFzZS91dGlsJztcblxuY29uc3Qge2lzV2hlZWx9ID0gdXRpbDtcblxuY29uc3Qgd2luID0gd2luZG93O1xuY29uc3QgZG9jID0gZG9jdW1lbnQ7XG5jb25zdCByZXNpemVFdnQgPSAnb3JpZW50YXRpb25jaGFuZ2UnIGluIHdpbiA/ICdvcmllbnRhdGlvbmNoYW5nZScgOiAncmVzaXplJztcblxuY29uc3QgcmVnID0gL3RyYW5zbGF0ZVlcXCgoWy1cXHddKylcXCkvO1xuXG5jbGFzcyBDYXRhbG9ndWVTcHkge1xuICBzdGF0aWMgZGVmYXVsdENvbmZpZyA9IHtcbiAgICBtZW51SGVpZ2h0OiBudWxsLCAvLyDorr7nva7oj5zljZXpq5jluqbvvIzlpoLmnpzkuI3orr7nva7vvIzliJnlj5blvZPliY3mtY/op4jlmajlj6/op4bpq5jluqZcbiAgICBzdGVwOiAzMCwgLy8g5rua5Yqo6byg5qCH77yM6I+c5Y2V5ruR5Yqo5q2l6ZW/XG4gIH07XG5cbiAgY29uc3RydWN0b3Ioc2Nyb2xsU3B5LCBjb25maWcgPSB7fSkge1xuICAgIHRoaXMuc2Nyb2xsU3B5ID0gc2Nyb2xsU3B5O1xuICAgIHRoaXMuY29uZmlnID0gey4uLkNhdGFsb2d1ZVNweS5kZWZhdWx0Q29uZmlnLCAuLi5jb25maWd9O1xuXG4gICAgbGV0IHttZW51SGVpZ2h0fSA9IHRoaXMuY29uZmlnO1xuICAgIGlmICghbWVudUhlaWdodCkge1xuICAgICAgbWVudUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSA2NDtcbiAgICAgIHRoaXMuY29uZmlnLm1lbnVIZWlnaHQgPSBtZW51SGVpZ2h0O1xuICAgIH1cblxuICAgIGNvbnN0IHskbWVudVBhbmVsfSA9IHNjcm9sbFNweTtcbiAgICAkbWVudVBhbmVsLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICAkbWVudVBhbmVsLnN0eWxlLm1heEhlaWdodCA9IGAke21lbnVIZWlnaHR9cHhgO1xuICAgIHRoaXMuJG1lbnVQYW5lbCA9ICRtZW51UGFuZWw7XG5cbiAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcihyZXNpemVFdnQsIHRoaXMuYWRqdXN0TWVudUhlaWdodCwgZmFsc2UpO1xuICB9XG5cbiAgLy8g6LCD5pW06I+c5Y2V5pyA5aSn6auY5bqmXG4gIGFkanVzdE1lbnVIZWlnaHQgPSAoKSA9PiB7XG4gICAgY29uc3QgbWVudUhlaWdodCA9IGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gNjQ7XG4gICAgdGhpcy4kbWVudVBhbmVsLnN0eWxlLm1heEhlaWdodCA9IGAke21lbnVIZWlnaHR9cHhgO1xuICB9O1xuXG4gIG1vdW50KCkge1xuICAgIC8vIGZpeG1lIOW+heaUuei/m++8jOaUueaIkCBzY3JvbGxTcHkg6Kem5Y+R6K+l5LqL5Lu277yM5Y+C6ICDIHdlYi1ndWlkZSDpobnnm65cbiAgICAvLyBodHRwOi8vd3d3LnpoYW5neGlueHUuY29tL3dvcmRwcmVzcy8yMDEzLzA0L2pzLW1vdXNld2hlZWwtZG9tbW91c2VzY3JvbGwtZXZlbnQvXG4gICAgdGhpcy4kbWVudVBhbmVsLmFkZEV2ZW50TGlzdGVuZXIoaXNXaGVlbCA/ICdtb3VzZXdoZWVsJyA6ICdET01Nb3VzZVNjcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKHRydWUpLCBmYWxzZSk7XG4gIH1cblxuICBoYW5kbGVTY3JvbGwgPSAocHJldmVudCkgPT4ge1xuICAgIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHtzY3JvbGxIZWlnaHQsIGNsaWVudEhlaWdodH0gPSB0aGlzLiRtZW51UGFuZWw7XG4gICAgICBjb25zdCB7c3RlcH0gPSB0aGlzLmNvbmZpZztcbiAgICAgIHRoaXMubWF4T2Zmc2V0ID0gc2Nyb2xsSGVpZ2h0IC0gY2xpZW50SGVpZ2h0OyAvLyDmnIDlpKfmu5rliqjnmoTpq5jluqZcblxuICAgICAgaWYgKHByZXZlbnQgJiYgdGhpcy5tYXhPZmZzZXQgPiAwKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICAvLyDliKTmlq3pvKDmoIfmu5Hova7lkJHkuIrov5jmmK/lkJHkuIvmu5HliqhcbiAgICAgIGxldCB1cERvd247XG4gICAgICBjb25zdCB7ZGV0YWlsLCB3aGVlbERlbHRhfSA9IGV2ZW50O1xuICAgICAgaWYgKGRldGFpbCkge1xuICAgICAgICBpZiAoZGV0YWlsIDwgMCkgeyAvLyB1cFxuICAgICAgICAgIHVwRG93biA9ICd1cCc7XG4gICAgICAgIH0gZWxzZSBpZiAoZGV0YWlsID4gMCkgeyAvLyBkb3duXG4gICAgICAgICAgdXBEb3duID0gJ2Rvd24nO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHdoZWVsRGVsdGEpIHsgLy9cbiAgICAgICAgaWYgKHdoZWVsRGVsdGEgPiAwKSB7IC8vIHVwXG4gICAgICAgICAgdXBEb3duID0gJ3VwJztcbiAgICAgICAgfVxuICAgICAgICBpZiAod2hlZWxEZWx0YSA8IDApIHsgLy8gZG93blxuICAgICAgICAgIHVwRG93biA9ICdkb3duJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7dHJhbnNmb3JtfSA9IHRoaXMuJG1lbnVQYW5lbC5zdHlsZTtcblxuICAgICAgbGV0IHkgPSByZWcuZXhlYyh0cmFuc2Zvcm0pO1xuICAgICAgeSA9IHkgPyBwYXJzZUZsb2F0KHlbMV0sIDEwKSA6IDA7XG5cbiAgICAgIGlmICgodXBEb3duID09PSAndXAnICYmIHkgPT09IDApIHx8ICh1cERvd24gPT09ICdkb3duJyAmJiBNYXRoLmFicyh5KSA9PT0gdGhpcy5tYXhPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHVwRG93biA9PT0gJ3VwJyAmJiB5IDwgMCkge1xuICAgICAgICB0aGlzLiRtZW51UGFuZWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHtNYXRoLm1pbih5ICsgc3RlcCwgMCl9cHgpYDtcbiAgICAgIH0gZWxzZSBpZiAodXBEb3duID09PSAnZG93bicgJiYgTWF0aC5hYnMoeSkgPCB0aGlzLm1heE9mZnNldCkge1xuICAgICAgICB0aGlzLiRtZW51UGFuZWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHtNYXRoLm1heCh5IC0gc3RlcCwgLXRoaXMubWF4T2Zmc2V0KX1weClgO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8g5b2T5a6a5L2N5Yiw5p+Q5LiA5Liq6I+c5Y2V6aG55pe277yM6ICM55Sx5LqO6ZmQ5Yi25LqG6auY5bqm77yM6K+l6I+c5Y2V5pyJ5Y+v6IO95LiN5Zyo5Y+v6KeG6IyD5Zu05YaFXG4gIHNjcm9sbE1lbnUgPSAobGFzdFNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3Qge3N0ZXB9ID0gdGhpcy5jb25maWc7XG4gICAgY29uc3QgeyRtZW51UGFuZWx9ID0gdGhpcztcbiAgICBjb25zdCB7c2Nyb2xsSGVpZ2h0LCBjbGllbnRIZWlnaHR9ID0gJG1lbnVQYW5lbDtcbiAgICBsZXQgbWF4T2Zmc2V0ID0gc2Nyb2xsSGVpZ2h0IC0gY2xpZW50SGVpZ2h0OyAvLyDmnIDlpKfmu5rliqjnmoTpq5jluqZcbiAgICBpZiAobWF4T2Zmc2V0ID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1heE9mZnNldCArPSAxOyAvLyDnlLHkuo7orqHnrpflgY/lt67vvIzpnIDopoHlvq7osIMx5Liq5YOP57SgXG4gICAgLy8g5aaC5p6c5b2T5YmN6I+c5Y2V6aG56ZqQ6JeP77yM5YiZ5ZCR5LiK5ouJXG4gICAgLy8gRml4bWUg5rOo5oSP6L+Z6YeM6L+Y6ZyA6K6h566XICRtZW51UGFuZWwucGFyZW50RWxlbWVudCBwYWRkaW5nIOWSjCBib3JkZXIg55qE5YC877yM5b6F5aSE55CGXG4gICAgY29uc3QgbWVudVJlY3QgPSAkbWVudVBhbmVsLnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY3VycmVudFRhcmdldCA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKGxhc3RTZWxlY3Rvci5qb2luKCcsJykpO1xuICAgIGlmIChjdXJyZW50VGFyZ2V0KSB7XG4gICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGN1cnJlbnRUYXJnZXQsIChlbCkgPT4ge1xuICAgICAgICBsZXQgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB3aGlsZSAocmVjdC50b3AgPiAwICYmIHJlY3QuYm90dG9tID4gMCAmJiAocmVjdC50b3AgPCBtZW51UmVjdC50b3AgfHwgcmVjdC5ib3R0b20gPiBtZW51UmVjdC5ib3R0b20pKSB7IC8vIOWQkeS4iuenu+WKqFxuICAgICAgICAgIGNvbnN0IHt0cmFuc2Zvcm19ID0gJG1lbnVQYW5lbC5zdHlsZTtcbiAgICAgICAgICBsZXQgeSA9IHJlZy5leGVjKHRyYW5zZm9ybSk7XG4gICAgICAgICAgeSA9IHkgPyBwYXJzZUZsb2F0KHlbMV0sIDEwKSA6IDA7XG4gICAgICAgICAgaWYgKHJlY3QudG9wIDwgbWVudVJlY3QudG9wKSB7XG4gICAgICAgICAgICAkbWVudVBhbmVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7TWF0aC5taW4oeSArIHN0ZXAsIDApfXB4KWA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRtZW51UGFuZWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHtNYXRoLm1heCh5IC0gc3RlcCwgLW1heE9mZnNldCl9cHgpYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdW5tb3VudCgpIHtcbiAgICBjb25zb2xlLmluZm8oJ+W+heihpeWFhScpO1xuICAgIHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKHJlc2l6ZUV2dCwgdGhpcy5hZGp1c3RNZW51SGVpZ2h0LCBmYWxzZSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXRhbG9ndWVTcHk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL3Njcm9sbC1zcHkvcGx1Z2lucy9jYXRhbG9ndWVTcHkuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n")}])});