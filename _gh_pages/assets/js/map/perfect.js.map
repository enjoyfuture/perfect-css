{"version":3,"sources":["/Users/wangyanjun/git-joy-workspace/perfect-css/webpack/universalModuleDefinition","/Users/wangyanjun/git-joy-workspace/perfect-css/webpack/bootstrap","/Users/wangyanjun/git-joy-workspace/perfect-css/components/base/component.js","/Users/wangyanjun/git-joy-workspace/perfect-css/components/base/util.js","/Users/wangyanjun/git-joy-workspace/perfect-css/components/elements/menu/list-menu/list-menu.js","/Users/wangyanjun/git-joy-workspace/perfect-css/components/elements/menu/list-menu/util.js","/Users/wangyanjun/git-joy-workspace/perfect-css/components/elements/paging/paging.js","/Users/wangyanjun/git-joy-workspace/perfect-css/components/forms/select/select.js","/Users/wangyanjun/git-joy-workspace/perfect-css/components/perfect.js","/Users/wangyanjun/git-joy-workspace/perfect-css/components/ripple/ripple.js","/Users/wangyanjun/git-joy-workspace/perfect-css/components/ripple/util.js","/Users/wangyanjun/git-joy-workspace/perfect-css/components/scroll-spy/plugins/catalogueSpy.js","/Users/wangyanjun/git-joy-workspace/perfect-css/components/scroll-spy/scrollSpy.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_a-function.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_add-to-unscopables.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_an-object.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_array-includes.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_array-methods.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_array-species-constructor.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_array-species-create.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_cof.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_core.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_ctx.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_defined.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_descriptors.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_dom-create.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_enum-bug-keys.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_enum-keys.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_export.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_fails.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_fix-re-wks.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_global.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_has.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_hide.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_html.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_ie8-dom-define.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_inherit-if-required.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_iobject.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_is-array.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_is-object.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_is-regexp.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_iter-create.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_iter-define.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_iter-step.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_iterators.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_library.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_meta.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-create.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-dp.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-dps.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-gopd.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-gopn-ext.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-gopn.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-gops.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-gpo.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-keys-internal.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-keys.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-pie.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_object-sap.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_property-desc.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_redefine.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_set-proto.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_set-to-string-tag.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_shared-key.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_shared.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_strict-method.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_string-html.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_string-trim.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_string-ws.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_to-absolute-index.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_to-integer.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_to-iobject.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_to-length.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_to-object.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_to-primitive.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_uid.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_wks-define.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_wks-ext.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/_wks.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.array.filter.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.array.for-each.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.array.index-of.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.array.is-array.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.array.iterator.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.array.map.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.array.some.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.array.sort.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.date.now.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.number.constructor.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.number.is-nan.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.object.create.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.object.define-property.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.object.keys.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.object.set-prototype-of.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.regexp.split.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.string.anchor.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.string.trim.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es6.symbol.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/es7.symbol.async-iterator.js","/Users/wangyanjun/git-joy-workspace/perfect-css/node_modules/core-js/modules/web.dom.iterable.js"],"names":["Component","element","config","Object","keys","forEach","key","init","evtType","handler","addEventListener","removeEventListener","detail","bubbles","cancelable","evt","CustomEvent","document","createEvent","initCustomEvent","dispatchEvent","MAX_UUID","isWindow","elem","window","getWindow","nodeType","defaultView","getStyles","property","extra","styles","ownerDocument","getComputedStyle","cssValue","getPropertyValue","num","parseFloat","isFinite","getOffsetParent","offsetParent","tagName","toLowerCase","documentElement","getUuid","prefix","_prefix","Math","random","getElementById","isWheel","ua","navigator","userAgent","test","offset","el","docElem","win","doc","getClientRects","length","top","left","rect","getBoundingClientRect","width","height","pageYOffset","clientTop","pageXOffset","clientLeft","position","offsetXY","parentOffset","util","dom","body","reg","classes","ELEMENT","LIST_MENU_ITEMS","OPEN","ANIMATING","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT","LIST_ITEM","ACTIVE","EXPANDED","strings","ITEMS_SELECTOR","LIST_ITEM_SELECTOR","LIST_ITEM_BRANCH_SELECTOR","LIST_ITEM_LEAF_SELECTOR","SELECTED_EVENT","CANCEL_EVENT","ARIA_DISABLED_ATTR","ARIA_CONTROLS_ATTR","ARIA_CONTROLS_CLICK","ARIA_LEVEL_ATTR","ARIA_LEVEL_BRANCH","numbers","SELECTED_TRIGGER_DELAY","TRANSITION_DURATION_MS","TRANSITION_SCALE_ADJUSTMENT_X","TRANSITION_SCALE_ADJUSTMENT_Y","TRANSITION_X1","TRANSITION_Y1","TRANSITION_X2","TRANSITION_Y2","ListMenu","isOpen","value","show","hide","filterDivider","e","target","getAttribute","node","parentNode","firstElementChild","classList","remove","nextElementSibling","add","targetIndex","leafItems","indexOf","selectedTriggerTimerId","setTimeout","adapter","removeExpandClass","setActiveItemAtIndex","notifySelected","altKey","ctrlKey","metaKey","keyCode","isEnter","isSpace","isEscape","handleClickMenu","notifyCancel","close","shiftKey","isTab","isArrowUp","isArrowDown","focusedItemIndex","getFocusedItemIndex","lastItemIndex","getNumberOfItems","focusItemAtIndex","preventDefault","isFocused","eventTargetHasClass","expandedEl","querySelectorAll","call","items","item","style","removeProperty","step","visibleItemHeight","maxItemHeight","stopPropagation","upDown","wheelDelta","transform","itemsContainer","y","exec","abs","maxOffset","min","max","undefined","selectedFirstOption","previousFocus","createAdapter","startScaleX","startScaleY","targetScale","scaleX","scaleY","running","animationRequestId","dimensions","startTime","itemHeight","previousActiveItems","previousActiveItemsIndex","render","addClass","className","removeClass","hasClass","contains","hasNecessaryDom","Boolean","getInnerDimensions","offsetWidth","offsetHeight","hasAnchor","parentElement","getAnchorDimensions","getWindowDimensions","innerWidth","innerHeight","setScale","x","setInnerScale","getYParamsForItemAtIndex","index","offsetTop","setTransitionDelayForItemAtIndex","setProperty","push","unshift","clearActiveItem","emit","leafIndex","activeItemIndex","saveFocus","activeElement","restoreFocus","focus","setTransformOrigin","origin","setPosition","right","bottom","getAccurateTime","performance","now","querySelector","slice","Error","addEventListeners","clearTimeout","cancelAnimationFrame","removeEventListeners","handleKeyboardUp","handleKeyboardDown","handleDocumentClick","focusIndex","requestAnimationFrame","applyTransitionDelays","autoPosition","animateMenu","focusOnOpen","disabled","removeTransitionDelays","lineHeight","paddingTop","paddingBottom","parseInt","calcItemHeight","maxHeight","visibleItemNum","floor","i","numItems","transitionDuration","start","itemTop","itemDelayFraction","itemDelay","toFixed","vertical","horizontal","anchor","windowDimensions","topOverflow","bottomOverflow","extendsBeyondTopBounds","leftOverflow","rightOverflow","extendsBeyondLeftBounds","animationLoop","time","currentTime","currentTimeX","currentTimeY","easeX","easeY","invScaleX","invScaleY","storedTransformPropertyName","getTransformPropertyName","globalObj","forceRefresh","createElement","clamp","bezierProgress","x1","y1","x2","y2","getBezierCoordinate","solvePositionFromXValue","t","c1","c2","ic0","ic1","ic2","xVal","epsilon","maxIterations","tMin","tMax","derivative","getElementIndexOfParent","filter","children","len","PAGING_ITEM","DISABLED","Paging","defaultConfig","pageNum","dataset","pagenum","handleChangePage","input","previousElementSibling","Number","isNaN","pageSize","loadData","handleSwitchPage","handleChangePerPage","loadPageData","then","json","data","totalCount","totalPages","renderPaging","pageArray","calculatePage","html","pageItems","map","join","pagingControl","renderPagingControl","innerHTML","recordPerPage","jumpControl","getRootSelectedOption","parentEl","SCROLL_LOCK","SELECT_MENU_FIXED","SELECT_INNER","CHANGE_EVENT","SELECT_MENU","SELECT_SELECTED_TEXT","openerKeys","forType","Select","getSelectedValue","menu","isMenuOpen","open","compareSelectedIndex","getLeafOptionIndex","setSelectedIndex","notifyChange","selectedIndex","isScrollLock","isFixed","isText","options","text","getTextForOptionAtIndex","initialSyncWithDOM","setAttr","attr","setAttribute","rmAttr","removeAttribute","computeBoundingRect","selectInner","makeTabbable","tabIndex","makeUntabbable","setMenuElStyle","propertyName","menuEl","setMenuElAttr","rmMenuElAttr","getMenuElOffsetHeight","openMenu","setSelectedTextContent","selectedTextContent","selectedText","textContent","getNumberOfOptions","setAttrForOptionAtIndex","rmAttrForOptionAtIndex","valueText","getWindowInnerHeight","addBodyClass","removeBodyClass","menuFactory","selectedOption","selectedOptions","idx","displayHandler","handleDisplayKeyboard","listen","selectionHandler","cancelHandler","unlisten","EVENT_PHASE_AT_TARGET","eventPhase","isSpaceDown","type","isOpenerKey","some","prevSelectedIndex","trim","disableScroll","selectedRootOption","setMenuStylesForOpen","enableScroll","winInnerHeight","menuHeight","itemOffsetTop","adjustedTop","overflowsTop","overflowsBottom","option","id","UNBOUNDED","FOCUSED","INACTIVE","VAR_SIZE","VAR_LEFT","VAR_TOP","VAR_SCALE","VAR_TRANSLATE_START","VAR_TRANSLATE_END","PADDING","INITIAL_ORIGIN_SCALE","DEACTIVATION_TIMEOUT_MS","DEACTIVATION_MS","DEACTIVATION_ACTIVATION_PAIRS","mouseup","pointerup","touchend","keyup","blur","Ripple","unbounded","ripple","instance","matches","HTMLElement","prototype","isSupportsCssVars","isUnbounded","isActive","isDisabled","registerImpactHandler","deregisterImpactHandler","registerResizeHandler","deregisterResizeHandler","updateCssVariable","varName","removeCssVariable","getWindowPageOffset","isActivated","hasDeactivationUXRun","wasActivatedByPointer","wasElementMadeActive","activationStartTime","activationEvent","isProgrammatic","layoutFrame","rippleSize","activationState","resetActivationState","duration","initialSize","maxRadius","unboundedCoords","scale","activationTimer","deactivationRemovalTimer","activationAnimationHasEnded","activationTimerCallback","runDeactivationAnimation","listenerInfos","activate","deactivate","listeners","_init","isSupported","layoutInternal","rippleRect","maxDim","diameter","sqrt","pow","updateCssVariableValue","round","info","k","layout","Date","animateActivation","translateStart","translateEnd","getTranslationCoords","startPoint","endPoint","rmActivationClasses","activationHasEnded","evtObject","state","animateDeactivation","actualActivationType","expectedActivationType","needsDeactivationUX","needsActualDeactivation","supportsCssVariables_","supportsPassive_","detectEdgePseudoVarBug","appendChild","computedStyle","hasPseudoVarBug","borderTopStyle","supportsCssVariables","supportsFunctionPresent","CSS","supports","explicitlySupportsCssVars","weAreFeatureDetectingSafari10plus","applyPassive","passive","getMatchesProperty","HTMLElementPrototype","p","pop","getNormalizedEventCoords","ev","pageOffset","clientRect","documentX","documentY","normalizedX","normalizedY","changedTouches","pageX","pageY","resizeEvt","CatalogueSpy","scrollSpy","clientHeight","$menuPanel","prevent","scrollHeight","lastSelector","menuRect","currentTarget","Array","adjustMenuHeight","handleScroll","console","ScrollSpy","process","scrollElement","getConfig","menuClsPrefix","extend","menuSelector","offsets","targets","activeTarget","extendStyle","getElementsByTagName","append","scrollEvent","immedLoad","initMenus","generateMenus","menuPanel","menuElements","offsetMethod","container","targetEl","offsetBase","getScrollTop","scrollTo","pluginConfig","plugins","isArray","plugin","mount","refresh","_config","autoMethod","method","menus","entries","level","depth","parent","root","prevLevel","lastNode","entry","ancestor","generateMenusHtml","nodes","menuCls","newChild","href","insertBefore","firstChild","getScrollHeight","selector","targetSelector","targetBCR","sort","a","b","scrollTop","maxScroll","getOffsetHeight","clearActiveCls","isActiveTarget","queries","split","parentEls","query","catalog","$link","scrollMenu","activeEls","unmount","animation"],"mappings":"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AsB;AACnD,qBAAqB,mBAAO,CAAC,oEAAe;AAC5C,eAAe,mBAAO,CAAC,sDAAQ;AAC/B,8CAA8C;AAC9C;AACA;AACA;;AAEA,8BAA8B,aAAa;;AAE3C;AACA;AACA;AACA;AACA;AACA,yCAAyC,oCAAoC;AAC7E,6CAA6C,oCAAoC;AACjF,KAAK,4BAA4B,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;ACpEA;AACA,UAAU;AACV;;;;;;;;;;;;ACFA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA,WAAW,mBAAO,CAAC,sDAAQ;AAC3B,eAAe,mBAAO,CAAC,kEAAc;AACrC,UAAU,mBAAO,CAAC,sDAAQ;AAC1B,cAAc,mBAAO,CAAC,kEAAc;AACpC;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,0DAAU;AAChC,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpDA;AACA,eAAe,mBAAO,CAAC,kEAAc;AACrC,UAAU,mBAAO,CAAC,oEAAe;AACjC,kBAAkB,mBAAO,CAAC,0EAAkB;AAC5C,eAAe,mBAAO,CAAC,oEAAe;AACtC,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,oEAAe;AACtC;AACA;AACA;AACA;AACA;AACA,EAAE,mBAAO,CAAC,wDA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ACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B,EAAE;AACtE;AACA;AACA,kBAAkB,mBAAO,CAAC,sEAAgB;AAC1C;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,mBAAO,CAAC,gEAAa;AACvB;;;;;;;;;;;;ACpEA;AACA,cAAc,mBAAO,CAAC,4DAAW;;AAEjC;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD,cAAc,mBAAO,CAAC,4DAAW;AACjC;AACA,8BAA8B,SAAS,mBAAO,CAAC,0EAAkB,GAAG;;;;;;;;;;;;ACFpE,cAAc,mBAAO,CAAC,4DAAW;AACjC;AACA,iCAAiC,mBAAO,CAAC,sEAAgB,cAAc,iBAAiB,mBAAO,CAAC,kEAAc,KAAK;;;;;;;;;;;;ACFnH;AACA,eAAe,mBAAO,CAAC,kEAAc;AACrC,YAAY,mBAAO,CAAC,sEAAgB;;AAEpC,mBAAO,CAAC,oEAAe;AACvB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA,cAAc,mBAAO,CAAC,4DAAW;AACjC,8BAA8B,iBAAiB,mBAAO,CAAC,kEAAc,OAAO;;;;;;;;;;;;ACF5E;AACA,mBAAO,CAAC,oEAAe;AACvB;AACA,iBAAiB,mBAAO,CAAC,kEAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;;ACtEY;AACb;AACA,mBAAO,CAAC,sEAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,mBAAO,CAAC,sEAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,aAAa,mBAAO,CAAC,4DAAW;AAChC,UAAU,mBAAO,CAAC,sDAAQ;AAC1B,kBAAkB,mBAAO,CAAC,sEAAgB;AAC1C,cAAc,mBAAO,CAAC,4DAAW;AACjC,eAAe,mBAAO,CAAC,gEAAa;AACpC,WAAW,mBAAO,CAAC,wDAAS;AAC5B,aAAa,mBAAO,CAAC,0DAAU;AAC/B,aAAa,mBAAO,CAAC,4DAAW;AAChC,qBAAqB,mBAAO,CAAC,kFAAsB;AACnD,UAAU,mBAAO,CAAC,sDAAQ;AAC1B,UAAU,mBAAO,CAAC,sDAAQ;AAC1B,aAAa,mBAAO,CAAC,8DAAY;AACjC,gBAAgB,mBAAO,CAAC,oEAAe;AACvC,eAAe,mBAAO,CAAC,kEAAc;AACrC,cAAc,mBAAO,CAAC,gEAAa;AACnC,eAAe,mBAAO,CAAC,kEAAc;AACrC,eAAe,mBAAO,CAAC,kEAAc;AACrC,gBAAgB,mBAAO,CAAC,oEAAe;AACvC,kBAAkB,mBAAO,CAAC,wEAAiB;AAC3C,iBAAiB,mBAAO,CAAC,0EAAkB;AAC3C,cAAc,mBAAO,CAAC,0EAAkB;AACxC,cAAc,mBAAO,CAAC,8EAAoB;AAC1C,YAAY,mBAAO,CAAC,sEAAgB;AACpC,UAAU,mBAAO,CAAC,kEAAc;AAChC,YAAY,mBAAO,CAAC,sEAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,EAAE,mBAAO,CAAC,sEAAgB;AAC1B,EAAE,mBAAO,CAAC,oEAAe;AACzB,EAAE,mBAAO,CAAC,sEAAgB;;AAE1B,sBAAsB,mBAAO,CAAC,8DAAY;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,oCAAoC,mBAAO,CAAC,wDAAS;AACrD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzOA,mBAAO,CAAC,oEAAe;;;;;;;;;;;;ACAvB,iBAAiB,mBAAO,CAAC,kFAAsB;AAC/C,cAAc,mBAAO,CAAC,sEAAgB;AACtC,eAAe,mBAAO,CAAC,gEAAa;AACpC,aAAa,mBAAO,CAAC,4DAAW;AAChC,WAAW,mBAAO,CAAC,wDAAS;AAC5B,gBAAgB,mBAAO,CAAC,kEAAc;AACtC,UAAU,mBAAO,CAAC,sDAAQ;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,wBAAwB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"perfect.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"perfect\"] = factory();\n\telse\n\t\troot[\"perfect\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./components/perfect.js\");\n","/**\n * 组件接口，所有的组件都应该继承该组件\n */\nclass Component {\n  /**\n   * 提供静态方法，用来挂载实例化组件\n   * 子组件可以覆盖该方法\n   * @param element\n   * @returns {Component}\n   */\n  static mount(element) {\n    return new Component(element);\n  }\n\n  constructor(element, config = {}) {\n    this.element = element;\n    // 设置 config 到 this 上\n    Object.keys(config).forEach(key => {\n      this[key] = config[key];\n    });\n\n    this.init();\n  }\n\n  init() {\n    /*\n     * 初始化\n     * 子组件可以覆盖该方法，具体实现要初始化的内容\n     */\n  }\n\n  // 卸载组件\n  unmount() {\n    // 子组件可以盖该方法\n  }\n\n  /**\n   * 公共方法，添加注册事件\n   * @param evtType\n   * @param handler\n   */\n  listen(evtType, handler) {\n    this.element.addEventListener(evtType, handler);\n  }\n\n  /**\n   * 公共方法，卸载已注册的事件\n   * @param evtType\n   * @param handler\n   */\n  unlisten(evtType, handler) {\n    this.element.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * 公共方法，创建并分发事件\n   * @param evtType 事件名称\n   * @param detail 当事件初始化时传递的数据\n   * @param bubbles 表明该事件是否会冒泡\n   * @param cancelable 表明该事件是否可以被取消\n   */\n  emit(evtType, detail, bubbles = false, cancelable = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail,\n        bubbles,\n        cancelable,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, bubbles, cancelable, detail);\n    }\n\n    this.element.dispatchEvent(evt);\n  }\n}\n\nexport default Component;\n","// 提供工具类方法\n\nconst MAX_UUID = 1000000;\n\nfunction isWindow(elem) {\n  return elem != null && elem === elem.window;\n}\n\nfunction getWindow(elem) {\n  return isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView;\n}\n\n/**\n * getStyles\n * @param {type} element\n * @param {type} property\n * @returns {styles}\n */\nfunction getStyles(element, property, extra) {\n  const styles = element.ownerDocument.defaultView.getComputedStyle(\n    element,\n    null\n  );\n  if (property) {\n    const cssValue = styles.getPropertyValue(property) || styles[property];\n    if (extra) {\n      const num = parseFloat(cssValue);\n      return extra === true || isFinite(num) ? num || 0 : cssValue;\n    }\n    return cssValue;\n  }\n  return styles;\n}\n\nfunction getOffsetParent(elem) {\n  /* eslint-disable prefer-destructuring */\n  let offsetParent = elem.offsetParent;\n\n  while (\n    offsetParent &&\n    elem.tagName.toLowerCase() !== 'html' &&\n    getStyles(offsetParent, 'position') === 'static'\n  ) {\n    offsetParent = offsetParent.offsetParent;\n  }\n  return offsetParent || document.documentElement;\n}\n\n/**\n * @description 生成唯一的 dom uuid\n * @param {string} prefix 前缀\n * @return {*} uuid\n */\nexport function getUuid(prefix) {\n  let _prefix = prefix;\n  do {\n    // eslint-disable-next-line no-bitwise\n    _prefix += ~~(Math.random() * MAX_UUID); // \"~~\" acts like a faster Math.floor() here\n  } while (document.getElementById(_prefix));\n\n  return _prefix;\n}\n\n// 根据浏览器设置其鼠标滑轮事件\nexport const isWheel = (() => {\n  /*\n   * compatibility: mouse wheel event\n   * http://www.w3help.org/zh-cn/causes/SD9015\n   */\n  const ua = navigator.userAgent;\n  // ie 11 /gecko/i.test(ua) value is true ,so need to judge /firefox/i.test(ua)\n  if (/gecko/i.test(ua) && !/webkit/i.test(ua) && /firefox/i.test(ua)) {\n    // Firefox\n    return false;\n  }\n  // IE Safari Chrome Opera\n  return true;\n})();\n\n/**\n * 返回元素 offset\n * 不支持隐藏的元素\n * 参考 jQuery 实现\n * https://github.com/jquery/jquery/blob/master/src/offset.js\n * @param el\n * @returns {*}\n */\nexport function offset(el) {\n  if (!el) {\n    return;\n  }\n\n  let docElem, win, doc;\n\n  /*\n   * Support: IE <=11 only\n   * Running getBoundingClientRect on a\n   * disconnected node in IE throws an error\n   */\n  if (!el.getClientRects().length) {\n    return { top: 0, left: 0 };\n  }\n\n  const rect = el.getBoundingClientRect();\n\n  // Make sure element is not hidden (display: none)\n  if (rect.width || rect.height) {\n    doc = el.ownerDocument;\n    win = getWindow(doc);\n    docElem = doc.documentElement;\n\n    return {\n      top: rect.top + win.pageYOffset - docElem.clientTop,\n      left: rect.left + win.pageXOffset - docElem.clientLeft,\n    };\n  }\n  return rect;\n}\n\n/**\n * 返回其 position 坐标\n * @param elem\n * @return {*}\n */\nexport function position(elem) {\n  if (!elem) {\n    return null;\n  }\n\n  let offsetParent,\n    offsetXY,\n    parentOffset = { top: 0, left: 0 };\n\n  if (getStyles(elem, 'position') === 'fixed') {\n    offsetXY = elem.getBoundingClientRect();\n  } else {\n    offsetParent = getOffsetParent(elem);\n    offsetXY = offset(elem);\n    if (elem.tagName.toLowerCase() !== 'html') {\n      parentOffset = offset(offsetParent);\n    }\n    parentOffset.top += getStyles(offsetParent, 'borderTopWidth', true);\n    parentOffset.left += getStyles(offsetParent, 'borderLeftWidth', true);\n  }\n\n  return {\n    top: offsetXY.top - parentOffset.top - getStyles(elem, 'marginTop', true),\n    left:\n      offsetXY.left - parentOffset.left - getStyles(elem, 'marginLeft', true),\n  };\n}\n\nconst util = {\n  getUuid,\n  isWheel,\n  offset,\n  position,\n};\n\nexport default util;\n","import Component from '../../../base/component';\nimport {\n  getTransformPropertyName,\n  clamp,\n  bezierProgress,\n  getElementIndexOfParent,\n} from './util';\n// import {isWheel} from '../../../base/util';\n\nconst win = window;\nconst dom = document;\nconst body = dom.body;\n\nconst reg = /translateY\\(([-\\w]+)\\)/;\n\n/*\n * 定义常量\n * class 样式\n */\nconst classes = {\n  ELEMENT: 'list-menu',\n  LIST_MENU_ITEMS: 'list-menu-items',\n  OPEN: 'list-menu-open',\n  ANIMATING: 'list-menu-animating',\n  TOP_RIGHT: 'list-menu-top-right',\n  BOTTOM_LEFT: 'list-menu-bottom-left',\n  BOTTOM_RIGHT: 'list-menu-bottom-right',\n  LIST_ITEM: 'list-item',\n  ACTIVE: 'active',\n  EXPANDED: 'expanded',\n};\n\n/** @enum {string} */\nconst strings = {\n  ITEMS_SELECTOR: '.list-menu > .list-menu-items', // 第一层 items\n  LIST_ITEM_SELECTOR: '.list-menu > .list-menu-items > .list-item', // 第一层 item\n  LIST_ITEM_BRANCH_SELECTOR: '.list-item[aria-level=\"branch\"]', // 所有分支节点\n  LIST_ITEM_LEAF_SELECTOR: '.list-item:not([aria-level=\"branch\"])', // 所有叶子节点\n  SELECTED_EVENT: 'listmenu:selected',\n  CANCEL_EVENT: 'listmenu:cancel',\n  ARIA_DISABLED_ATTR: 'aria-disabled',\n  ARIA_CONTROLS_ATTR: 'aria-controls',\n  ARIA_CONTROLS_CLICK: 'click',\n  ARIA_LEVEL_ATTR: 'aria-level',\n  ARIA_LEVEL_BRANCH: 'branch',\n  EXPANDED: '.expanded',\n};\n\nconst numbers = {\n  // 打开列表菜单延迟时间\n  SELECTED_TRIGGER_DELAY: 50,\n  // 展开菜单动画持续时间\n  TRANSITION_DURATION_MS: 300,\n  // 菜单开始动画时 scaleX 值，取值为 (0 - 1)\n  TRANSITION_SCALE_ADJUSTMENT_X: 0.5,\n  // 菜单开始动画时 scaleY 值，取值为 (0 - 1)\n  TRANSITION_SCALE_ADJUSTMENT_Y: 0.2,\n  // 动画贝塞尔曲线参数，参见 ./animation/_variable.scss $animation-ease-out (cubic-bezier(0, 0, 0.2, 1)).\n  TRANSITION_X1: 0,\n  TRANSITION_Y1: 0,\n  TRANSITION_X2: 0.2,\n  TRANSITION_Y2: 1,\n};\n\nclass ListMenu extends Component {\n  static get classes() {\n    return classes;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  /**\n   * 静态方法实例化 ListMenu 组件\n   * @param element\n   * @param config\n   * @returns {ListMenu}\n   */\n  static mount(element, config = { filterDivider: 'list-divider' }) {\n    return new ListMenu(element, config);\n  }\n\n  /** @return {boolean} */\n  get open() {\n    return this.isOpen;\n  }\n\n  /** @param {boolean} value */\n  set open(value) {\n    if (value) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  }\n\n  constructor(element, config) {\n    super(element, config);\n\n    // 是否过滤掉分隔符 list-divider，默认过滤\n    if (this.filterDivider === undefined) {\n      this.filterDivider = 'list-divider';\n    }\n\n    // 如果没有已选中的 option，是否默认选中第一个\n    if (this.selectedFirstOption === undefined) {\n      this.selectedFirstOption = true;\n    }\n\n    // 定义上一个获取焦点的元素\n    this.previousFocus = null;\n\n    // 创建适配器\n    this.adapter = this.createAdapter();\n\n    /** @private {boolean} */\n    this.isOpen = false;\n    /** @private {number} */\n    this.startScaleX = 0;\n    /** @private {number} */\n    this.startScaleY = 0;\n    /** @private {number} */\n    this.targetScale = 1;\n    /** @private {number} */\n    // 缩放 X 大小\n    this.scaleX = 0;\n    /** @private {number} */\n    // 缩放 Y 大小\n    this.scaleY = 0;\n    /** @private {boolean} */\n    // 判断 menu 是否在打开或关闭过程中\n    this.running = false;\n    /** @private {number} */\n    this.selectedTriggerTimerId = 0;\n    /** @private {number} */\n    this.animationRequestId = 0;\n    /** @private {!{ width: number, height: number }} */\n    // 返回菜单 items 大小\n    this.dimensions = null;\n    /** @private {number} */\n    // 开始时间\n    this.startTime = 0;\n    /** @private {number} */\n    // item 高度\n    this.itemHeight = 0;\n\n    this.previousActiveItems = null; // 记录当前选择的元素，对于级联菜单，包括从第一层到最里层\n    this.previousActiveItemsIndex = null; // 记录当前选择的元素 index\n\n    this.render();\n  }\n\n  /**\n   * 封装适配器方法\n   * @return {object}\n   */\n  createAdapter() {\n    return {\n      addClass: className => this.element.classList.add(className),\n      removeClass: className => this.element.classList.remove(className),\n      hasClass: className => this.element.classList.contains(className),\n      hasNecessaryDom: () => Boolean(this.itemsContainer),\n      eventTargetHasClass: (target, className) =>\n        target.classList.contains(className),\n      getInnerDimensions: () => {\n        const { itemsContainer } = this;\n        return {\n          width: itemsContainer.offsetWidth,\n          height: itemsContainer.offsetHeight,\n        };\n      },\n      hasAnchor: () =>\n        this.element.parentElement &&\n        this.element.parentElement.classList.contains('menu-anchor'),\n      getAnchorDimensions: () =>\n        this.element.parentElement.getBoundingClientRect(),\n      getWindowDimensions: () => ({\n        width: win.innerWidth,\n        height: win.innerHeight,\n      }),\n      setScale: (x, y) => {\n        this.element.style[getTransformPropertyName(win)] = `scale(${x}, ${y})`;\n      },\n      setInnerScale: (x, y) => {\n        this.itemsContainer.style[\n          getTransformPropertyName(win)\n        ] = `scale(${x}, ${y})`;\n      },\n      getNumberOfItems: () => this.items.length,\n      getYParamsForItemAtIndex: index => {\n        const { offsetTop: top, offsetHeight: height } = this.items[index];\n        return { top, height };\n      },\n      setTransitionDelayForItemAtIndex: (index, value) =>\n        this.items[index].style.setProperty('transition-delay', value),\n      setActiveItemAtIndex: index => {\n        if (this.previousActiveItems) {\n          this.previousActiveItems.forEach(el => {\n            el.classList.remove(classes.ACTIVE);\n          });\n        }\n\n        this.leafItems[index].classList.add(classes.ACTIVE);\n\n        this.previousActiveItems = [];\n        this.previousActiveItemsIndex = []; // 记录活动元素 index\n\n        this.previousActiveItems.push(this.leafItems[index]);\n        this.previousActiveItemsIndex.push(\n          getElementIndexOfParent(this.leafItems[index], this.filterDivider)\n        );\n        let parentNode = this.leafItems[index].parentNode.parentNode;\n\n        // 分支节点也设置 ACTIVE\n        while (parentNode && parentNode.classList.contains(classes.LIST_ITEM)) {\n          parentNode.classList.add(classes.ACTIVE);\n          this.previousActiveItems.unshift(parentNode);\n          this.previousActiveItemsIndex.unshift(\n            getElementIndexOfParent(parentNode, this.filterDivider)\n          );\n          parentNode = parentNode.parentNode.parentNode;\n        }\n      }, // 设置当前活动 item 样式\n      clearActiveItem: () => {\n        this.leafItems.forEach(item => {\n          item.classList.remove(classes.ACTIVE);\n        });\n      }, // 清空活动 item\n      removeExpandClass: () => {\n        [].forEach.call(\n          this.element.querySelectorAll(strings.LIST_ITEM_BRANCH_SELECTOR),\n          el => {\n            el.classList.remove(classes.EXPANDED);\n          }\n        );\n      },\n      notifySelected: () => {\n        this.emit(strings.SELECTED_EVENT, {\n          index: this.previousActiveItemsIndex,\n          leafIndex: this.activeItemIndex, // 叶子节点活动的 id\n          items: this.previousActiveItems,\n        });\n      }, // 选中某一 item，通过注册的事件调用该方法\n      notifyCancel: () => this.emit(strings.CANCEL_EVENT, {}),\n      saveFocus: () => {\n        this.previousFocus = dom.activeElement;\n      },\n      restoreFocus: () => {\n        if (this.previousFocus) {\n          this.previousFocus.focus();\n        }\n      },\n      isFocused: () => dom.activeElement === this.element,\n      focus: () => this.element.focus(),\n      getFocusedItemIndex: () => this.items.indexOf(dom.activeElement),\n      focusItemAtIndex: index => this.leafItems[index].focus(),\n      setTransformOrigin: origin => {\n        this.element.style[`${getTransformPropertyName(win)}-origin`] = origin;\n      },\n      setPosition: position => {\n        this.element.style.left = 'left' in position ? position.left : null;\n        this.element.style.right = 'right' in position ? position.right : null;\n        this.element.style.top = 'top' in position ? position.top : null;\n        this.element.style.bottom =\n          'bottom' in position ? position.bottom : null;\n      },\n      getAccurateTime: () => win.performance.now(), // 系统时间\n    };\n  }\n\n  init() {\n    const {\n      ITEMS_SELECTOR,\n      LIST_ITEM_SELECTOR,\n      LIST_ITEM_LEAF_SELECTOR,\n    } = strings;\n\n    // 返回菜单 item 根容器\n    this.itemsContainer = this.element.querySelector(ITEMS_SELECTOR);\n    // 返回菜单第一层 items 中的所有 item\n    this.items = [].slice.call(\n      this.itemsContainer.querySelectorAll(LIST_ITEM_SELECTOR)\n    );\n\n    // 返回菜单 items 中的所有叶子节点item\n    this.leafItems = [].slice.call(\n      this.itemsContainer.querySelectorAll(LIST_ITEM_LEAF_SELECTOR)\n    );\n\n    if (this.activeItemIndex === undefined && this.selectedFirstOption) {\n      this.activeItemIndex = 0;\n    }\n  }\n\n  // 渲染组件\n  render() {\n    const { ELEMENT, OPEN } = classes;\n\n    if (!this.adapter.hasClass(ELEMENT)) {\n      throw new Error(`列表菜单根节点需要设置 class ${ELEMENT}.`);\n    }\n\n    if (!this.adapter.hasNecessaryDom()) {\n      throw new Error('列表菜单需要设置 items 元素节点.');\n    }\n\n    // 有 OPEN 样式时，表示打开状态\n    if (this.adapter.hasClass(OPEN)) {\n      this.isOpen = true;\n    }\n\n    // 先清空已经设置的 active\n    this.adapter.clearActiveItem();\n    // 设置当前活动的 item\n    if (this.activeItemIndex !== undefined) {\n      this.adapter.setActiveItemAtIndex(this.activeItemIndex);\n    }\n\n    this.addEventListeners();\n  }\n\n  unmount() {\n    clearTimeout(this.selectedTriggerTimerId);\n    // 取消当前进行的动画\n    cancelAnimationFrame(this.animationRequestId);\n    this.removeEventListeners();\n  }\n\n  // 设置监听事件\n  addEventListeners() {\n    this.element.addEventListener('click', this.handleClickMenu);\n    this.element.addEventListener('keyup', this.handleKeyboardUp);\n    this.element.addEventListener('keydown', this.handleKeyboardDown);\n  }\n\n  // 删除事件\n  removeEventListeners() {\n    this.element.removeEventListener('click', this.handleClickMenu);\n    this.element.removeEventListener('keyup', this.handleKeyboardUp);\n    this.element.removeEventListener('keydown', this.handleKeyboardDown);\n    body.removeEventListener('click', this.handleDocumentClick);\n    // this.itemsContainer.removeEventListener(isWheel ? 'mousewheel' : 'DOMMouseScroll', this.handleItemScroll);\n  }\n\n  // 设置活动的元素\n  setActiveItemAtIndex(index) {\n    if (index !== undefined && index !== null) {\n      this.activeItemIndex = index;\n      this.adapter.setActiveItemAtIndex(index);\n    }\n  }\n\n  /**\n   * @param {!Event} e\n   * @private\n   */\n  handleClickMenu = e => {\n    const { target } = e;\n    const { ARIA_DISABLED_ATTR, ARIA_LEVEL_ATTR, ARIA_LEVEL_BRANCH } = strings;\n    // disabled 返回\n    if (target.getAttribute(ARIA_DISABLED_ATTR) === 'true') {\n      return;\n    }\n\n    // 点击分支节点\n    if (target.getAttribute(ARIA_LEVEL_ATTR) === ARIA_LEVEL_BRANCH) {\n      // 删除兄弟节点展开样式\n      let node = target.parentNode.firstElementChild;\n      while (node) {\n        node.classList.remove(classes.EXPANDED);\n        node = node.nextElementSibling;\n      }\n      target.classList.add(classes.EXPANDED);\n      return;\n    }\n\n    // 如果点击的是其他非叶子节点，则返回\n    const targetIndex = this.leafItems.indexOf(target);\n    if (targetIndex < 0) {\n      return;\n    }\n\n    // 防抖处理，防止多次点击\n    if (this.selectedTriggerTimerId) {\n      return;\n    }\n\n    // 动画结束后隐藏\n    this.selectedTriggerTimerId = setTimeout(() => {\n      this.selectedTriggerTimerId = 0;\n      this.hide();\n\n      // 去掉展开的级联节点\n      this.adapter.removeExpandClass();\n      this.adapter.setActiveItemAtIndex(targetIndex);\n      this.adapter.notifySelected();\n    }, numbers.SELECTED_TRIGGER_DELAY);\n  };\n\n  /**\n   * 处理键盘事件，对于 Enter, Space, Escape 需特殊处理\n   * @param {!Event} evt\n   * @return {boolean}\n   * @private\n   */\n  handleKeyboardUp = evt => {\n    // Do nothing if Alt, Ctrl or Meta are pressed.\n    if (evt.altKey || evt.ctrlKey || evt.metaKey) {\n      return true;\n    }\n\n    const { keyCode, key } = evt;\n    const isEnter = key === 'Enter' || keyCode === 13;\n    const isSpace = key === 'Space' || keyCode === 32;\n    const isEscape = key === 'Escape' || keyCode === 27;\n\n    if (isEnter || isSpace) {\n      this.handleClickMenu(evt);\n    }\n\n    if (isEscape) {\n      this.adapter.notifyCancel();\n      this.close();\n    }\n\n    return true;\n  };\n\n  /**\n   * 处理键盘事件 tab 和 arrows\n   * @param {!Event} evt\n   * @return {boolean}\n   * @private\n   */\n  /* eslint-disable complexity */\n  handleKeyboardDown = evt => {\n    // Do nothing if Alt, Ctrl or Meta are pressed.\n    if (evt.altKey || evt.ctrlKey || evt.metaKey) {\n      return true;\n    }\n\n    const { keyCode, key, shiftKey } = evt;\n    const isTab = key === 'Tab' || keyCode === 9;\n    const isArrowUp = key === 'ArrowUp' || keyCode === 38;\n    const isArrowDown = key === 'ArrowDown' || keyCode === 40;\n    const isSpace = key === 'Space' || keyCode === 32;\n\n    const focusedItemIndex = this.adapter.getFocusedItemIndex();\n    const lastItemIndex = this.adapter.getNumberOfItems() - 1;\n\n    if (shiftKey && isTab && focusedItemIndex === 0) {\n      this.adapter.focusItemAtIndex(lastItemIndex);\n      evt.preventDefault();\n      return false;\n    }\n\n    if (!shiftKey && isTab && focusedItemIndex === lastItemIndex) {\n      this.adapter.focusItemAtIndex(0);\n      evt.preventDefault();\n      return false;\n    }\n\n    // Ensure Arrow{Up,Down} and space do not cause inadvertent scrolling\n    if (isArrowUp || isArrowDown || isSpace) {\n      evt.preventDefault();\n    }\n\n    if (isArrowUp) {\n      if (focusedItemIndex === 0 || this.adapter.isFocused()) {\n        this.adapter.focusItemAtIndex(lastItemIndex);\n      } else {\n        this.adapter.focusItemAtIndex(focusedItemIndex - 1);\n      }\n    } else if (isArrowDown) {\n      if (focusedItemIndex === lastItemIndex || this.adapter.isFocused()) {\n        this.adapter.focusItemAtIndex(0);\n      } else {\n        this.adapter.focusItemAtIndex(focusedItemIndex + 1);\n      }\n    }\n\n    return true;\n  };\n\n  /**\n   * 当点击非菜单区域时，隐藏菜单列表\n   * @param {!Event} evt\n   * @private\n   */\n  handleDocumentClick = evt => {\n    let el = evt.target;\n\n    while (el && el !== dom.documentElement) {\n      if (this.adapter.eventTargetHasClass(el, classes.LIST_ITEM)) {\n        return;\n      }\n      el = el.parentNode;\n    }\n\n    this.adapter.notifyCancel();\n\n    const expandedEl = this.element.querySelectorAll(strings.EXPANDED);\n\n    [].forEach.call(expandedEl, element => {\n      element.classList.remove(classes.EXPANDED);\n    });\n\n    this.items.forEach(item => {\n      item.style.removeProperty('display');\n    });\n\n    this.hide(evt);\n  };\n\n  /**\n   * 滚动菜单列表时触发\n   * @param evt\n   */\n  handleItemScroll = evt => {\n    const step = 10;\n\n    if (this.visibleItemHeight <= this.maxItemHeight) {\n      evt.preventDefault();\n      evt.stopPropagation();\n    }\n\n    // 判断鼠标滑轮向上还是向下滑动\n    let upDown;\n    const { detail, wheelDelta } = evt;\n    if (detail) {\n      if (detail < 0) {\n        // up\n        upDown = 'up';\n      } else if (detail > 0) {\n        // down\n        upDown = 'down';\n      }\n    } else if (wheelDelta) {\n      //\n      if (wheelDelta > 0) {\n        // up\n        upDown = 'up';\n      }\n      if (wheelDelta < 0) {\n        // down\n        upDown = 'down';\n      }\n    }\n\n    const { transform } = this.itemsContainer.style;\n\n    let y = reg.exec(transform);\n    y = y ? parseFloat(y[1], 10) : 0;\n\n    if (\n      (upDown === 'up' && y === 0) ||\n      (upDown === 'down' && Math.abs(y) === this.maxOffset)\n    ) {\n      return;\n    }\n\n    if (upDown === 'up' && y < 0) {\n      this.itemsContainer.style.transform = `translateY(${Math.min(\n        y + step,\n        0\n      )}px)`;\n    } else if (upDown === 'down' && Math.abs(y) < this.maxOffset) {\n      this.itemsContainer.style.transform = `translateY(${Math.max(\n        y - step,\n        -this.maxOffset\n      )}px)`;\n    }\n  };\n\n  /** @param {{focusIndex: ?number}=} options */\n  show({ focusIndex = null } = {}) {\n    // 设置当前焦点元素\n    this.adapter.saveFocus();\n    this.adapter.addClass(classes.ANIMATING);\n    this.animationRequestId = requestAnimationFrame(() => {\n      this.dimensions = this.adapter.getInnerDimensions();\n      // this.adjustMenuMaxHeight();\n      this.applyTransitionDelays();\n      this.autoPosition();\n      this.animateMenu();\n      this.adapter.addClass(classes.OPEN);\n      this.focusOnOpen(focusIndex);\n\n      // 添加 document 事件\n      body.addEventListener('click', this.handleDocumentClick);\n      /*\n       * http://www.zhangxinxu.com/wordpress/2013/04/js-mousewheel-dommousescroll-event/\n       *this.itemsContainer.addEventListener(isWheel ? 'mousewheel' : 'DOMMouseScroll', this.handleItemScroll);\n       */\n    });\n    this.isOpen = true;\n  }\n\n  /**\n   *  关闭隐藏菜单\n   * @param {Event=} evt\n   */\n  hide(evt = null) {\n    const disabled = evt\n      ? evt.target.getAttribute(strings.ARIA_DISABLED_ATTR) === 'true'\n      : false;\n\n    if (disabled) {\n      return;\n    }\n\n    body.removeEventListener('click', this.handleDocumentClick);\n    // 添加动画 class\n    this.adapter.addClass(classes.ANIMATING);\n\n    requestAnimationFrame(() => {\n      this.removeTransitionDelays();\n      this.animateMenu();\n      this.adapter.removeClass(classes.OPEN);\n    });\n    this.isOpen = false;\n    // 把焦点定位到上一个焦点\n    this.adapter.restoreFocus();\n  }\n\n  /**\n   * 计算 Item 的高度\n   */\n  calcItemHeight() {\n    const property = window.getComputedStyle(this.items[0]);\n    const lineHeight = property.getPropertyValue('line-height');\n    const paddingTop = property.getPropertyValue('padding-top');\n    const paddingBottom = property.getPropertyValue('padding-bottom');\n\n    return (\n      parseInt(lineHeight, 10) +\n      parseInt(paddingTop, 10) +\n      parseInt(paddingBottom, 10)\n    );\n  }\n\n  /**\n   * 调整菜单高度\n   */\n  adjustMenuMaxHeight() {\n    const rect = this.itemsContainer.getBoundingClientRect();\n    const { height } = this.adapter.getWindowDimensions();\n    const itemHeight = this.calcItemHeight();\n    const maxHeight = height - rect.top;\n    const visibleItemNum = Math.floor(maxHeight / itemHeight);\n    this.visibleItemHeight = visibleItemNum * itemHeight;\n    this.maxItemHeight = this.items.length * itemHeight;\n\n    this.itemsContainer.style.setProperty(\n      'height',\n      `${this.visibleItemHeight}px`\n    );\n    // 隐藏多余的 item\n    for (let i = visibleItemNum; i < this.items.length; i++) {\n      this.items[i].style.setProperty('display', 'none');\n    }\n  }\n\n  /**\n   * Calculates transition delays for individual menu items, so that they fade in one at a time.\n   * @private\n   */\n  applyTransitionDelays() {\n    const { BOTTOM_LEFT, BOTTOM_RIGHT } = classes;\n    const numItems = this.adapter.getNumberOfItems();\n    const { height } = this.dimensions;\n    const transitionDuration = numbers.TRANSITION_DURATION_MS / 1000;\n    const start = numbers.TRANSITION_SCALE_ADJUSTMENT_Y;\n\n    for (let index = 0; index < numItems; index++) {\n      const {\n        top: itemTop,\n        height: itemHeight,\n      } = this.adapter.getYParamsForItemAtIndex(index);\n      this.itemHeight = itemHeight;\n      let itemDelayFraction = itemTop / height;\n      if (\n        this.adapter.hasClass(BOTTOM_LEFT) ||\n        this.adapter.hasClass(BOTTOM_RIGHT)\n      ) {\n        itemDelayFraction = (height - itemTop - itemHeight) / height;\n      }\n      const itemDelay =\n        (start + itemDelayFraction * (1 - start)) * transitionDuration;\n      // Use toFixed() here to normalize CSS unit precision across browsers\n      this.adapter.setTransitionDelayForItemAtIndex(\n        index,\n        `${itemDelay.toFixed(3)}s`\n      );\n    }\n  }\n\n  /** @private */\n  // 自动计算位置\n  autoPosition() {\n    if (!this.adapter.hasAnchor()) {\n      return;\n    }\n\n    // Defaults: open from the top left.\n    let vertical = 'top';\n    let horizontal = 'left';\n\n    const anchor = this.adapter.getAnchorDimensions();\n    const windowDimensions = this.adapter.getWindowDimensions();\n\n    const topOverflow =\n      anchor.top + this.dimensions.height - windowDimensions.height;\n    const bottomOverflow = this.dimensions.height - anchor.bottom;\n    const extendsBeyondTopBounds = topOverflow > 0;\n\n    if (extendsBeyondTopBounds) {\n      if (bottomOverflow < topOverflow) {\n        vertical = 'bottom';\n      }\n    }\n\n    const leftOverflow =\n      anchor.left + this.dimensions.width - windowDimensions.width;\n    const rightOverflow = this.dimensions.width - anchor.right;\n    const extendsBeyondLeftBounds = leftOverflow > 0;\n\n    if (extendsBeyondLeftBounds && rightOverflow < leftOverflow) {\n      horizontal = 'right';\n    }\n\n    const position = {\n      [horizontal]: '0',\n      [vertical]: '0',\n    };\n\n    this.adapter.setTransformOrigin(`${vertical} ${horizontal}`);\n    this.adapter.setPosition(position);\n  }\n\n  /**\n   * @param {?number} focusIndex\n   * @private\n   */\n  focusOnOpen(focusIndex) {\n    if (focusIndex === null) {\n      // First, try focusing the menu.\n      this.adapter.focus();\n      // If that doesn't work, focus first item instead.\n      if (!this.adapter.isFocused()) {\n        this.adapter.focusItemAtIndex(0);\n      }\n    } else {\n      this.adapter.focusItemAtIndex(focusIndex);\n    }\n  }\n\n  /**\n   * 删除菜单动画延迟，设置 transition-delay 为 null\n   * @private\n   */\n  removeTransitionDelays() {\n    const numItems = this.adapter.getNumberOfItems();\n    for (let i = 0; i < numItems; i++) {\n      this.adapter.setTransitionDelayForItemAtIndex(i, null);\n    }\n  }\n\n  /**\n   * 设置打开或关闭菜单动画\n   * @private\n   */\n  animateMenu() {\n    this.startTime = this.adapter.getAccurateTime();\n    this.startScaleX = this.scaleX;\n    this.startScaleY = this.scaleY;\n\n    this.targetScale = this.isOpen ? 1 : 0;\n\n    // 处理菜单动画\n    if (!this.running) {\n      this.running = true;\n      this.animationRequestId = requestAnimationFrame(() =>\n        this.animationLoop()\n      );\n    }\n  }\n\n  /**\n   * 循环处理菜单动画\n   * @private\n   */\n  animationLoop() {\n    const time = this.adapter.getAccurateTime();\n    const {\n      TRANSITION_DURATION_MS,\n      TRANSITION_X1,\n      TRANSITION_Y1,\n      TRANSITION_X2,\n      TRANSITION_Y2,\n      TRANSITION_SCALE_ADJUSTMENT_X,\n      TRANSITION_SCALE_ADJUSTMENT_Y,\n    } = numbers;\n\n    const currentTime = clamp((time - this.startTime) / TRANSITION_DURATION_MS);\n\n    // Animate X axis very slowly, so that only the Y axis animation is visible during fade-out.\n    let currentTimeX = clamp(\n      (currentTime - TRANSITION_SCALE_ADJUSTMENT_X) /\n        (1 - TRANSITION_SCALE_ADJUSTMENT_X)\n    );\n    // No time-shifting on the Y axis when closing.\n    let currentTimeY = currentTime;\n\n    let startScaleY = this.startScaleY;\n    if (this.targetScale === 1) {\n      // Start with the menu at the height of a single item.\n      if (this.itemHeight) {\n        startScaleY = Math.max(\n          this.itemHeight / this.dimensions.height,\n          startScaleY\n        );\n      }\n      // X axis moves faster, so time-shift forward.\n      currentTimeX = clamp(currentTime + TRANSITION_SCALE_ADJUSTMENT_X);\n      // Y axis moves slower, so time-shift backwards and adjust speed by the difference.\n      currentTimeY = clamp(\n        (currentTime - TRANSITION_SCALE_ADJUSTMENT_Y) /\n          (1 - TRANSITION_SCALE_ADJUSTMENT_Y)\n      );\n    }\n\n    // 为 X 和 Y 轴方向设置贝塞尔曲线\n    const easeX = bezierProgress(\n      currentTimeX,\n      TRANSITION_X1,\n      TRANSITION_Y1,\n      TRANSITION_X2,\n      TRANSITION_Y2\n    );\n    const easeY = bezierProgress(\n      currentTimeY,\n      TRANSITION_X1,\n      TRANSITION_Y1,\n      TRANSITION_X2,\n      TRANSITION_Y2\n    );\n\n    // Calculate the scales to apply to the outer container and inner container.\n    this.scaleX =\n      this.startScaleX + (this.targetScale - this.startScaleX) * easeX;\n    const invScaleX = 1 / (this.scaleX === 0 ? 1 : this.scaleX);\n    this.scaleY = startScaleY + (this.targetScale - startScaleY) * easeY;\n    const invScaleY = 1 / (this.scaleY === 0 ? 1 : this.scaleY);\n\n    // 改变 scale\n    this.adapter.setScale(this.scaleX, this.scaleY);\n    this.adapter.setInnerScale(invScaleX, invScaleY);\n\n    /*\n     * Stop animation when we've covered the entire 0 - 1 range of time.\n     * 如果不在 0 到 1 之间则停止动画\n     */\n    if (currentTime < 1) {\n      this.animationRequestId = requestAnimationFrame(() =>\n        this.animationLoop()\n      );\n    } else {\n      this.animationRequestId = 0;\n      this.running = false;\n      this.adapter.removeClass(classes.ANIMATING);\n    }\n  }\n}\n\nexport default ListMenu;\n","/** @type {string|undefined} */\nlet storedTransformPropertyName;\n\n/**\n * Returns the name of the correct transform property to use on the current browser.\n * 返回 transform 兼容性写法\n * @param {!Window} globalObj\n * @param {boolean=} forceRefresh\n * @return {string}\n */\nfunction getTransformPropertyName(globalObj, forceRefresh = false) {\n  if (storedTransformPropertyName === undefined || forceRefresh) {\n    const el = globalObj.document.createElement('div');\n    storedTransformPropertyName =\n      'transform' in el.style ? 'transform' : 'webkitTransform';\n  }\n\n  return storedTransformPropertyName;\n}\n\n/**\n * 如果 value 落在 min 和 max 之间则返回 value，否则小于 min 则返回 min， 大于 max 则返回 max\n * 比如 min=0，max=1，value=0.5，则返回 0.5\n * 比如 min=0，max=1，value=3，则返回 1\n * 比如 min=0，max=1，value=-0.5，则返回 0\n * @param {number} value\n * @param {number} min\n * @param {number} max\n * @return {number}\n */\nfunction clamp(value, min = 0, max = 1) {\n  return Math.min(max, Math.max(min, value));\n}\n\n/**\n * Returns the easing value to apply at time t, for a given cubic bezier curve.\n * Control points P0 and P3 are assumed to be (0,0) and (1,1), respectively.\n * Parameters are as follows:\n * - time: The current time in the animation, scaled between 0 and 1.\n * - x1: The x value of control point P1.\n * - y1: The y value of control point P1.\n * - x2: The x value of control point P2.\n * - y2: The y value of control point P2.\n * @param {number} time\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @return {number}\n */\nfunction bezierProgress(time, x1, y1, x2, y2) {\n  return getBezierCoordinate(solvePositionFromXValue(time, x1, x2), y1, y2);\n}\n\n/**\n * Compute a single coordinate at a position point between 0 and 1.\n * c1 and c2 are the matching coordinate on control points P1 and P2, respectively.\n * Control points P0 and P3 are assumed to be (0,0) and (1,1), respectively.\n * Adapted from https://github.com/google/closure-library/blob/master/closure/goog/math/bezier.js.\n * @param {number} t\n * @param {number} c1\n * @param {number} c2\n * @return {number}\n */\nfunction getBezierCoordinate(t, c1, c2) {\n  // Special case start and end.\n  if (t === 0 || t === 1) {\n    return t;\n  }\n\n  // Step one - from 4 points to 3\n  let ic0 = t * c1;\n  let ic1 = c1 + t * (c2 - c1);\n  const ic2 = c2 + t * (1 - c2);\n\n  // Step two - from 3 points to 2\n  ic0 += t * (ic1 - ic0);\n  ic1 += t * (ic2 - ic1);\n\n  // Final step - last point\n  return ic0 + t * (ic1 - ic0);\n}\n\n/**\n * Project a point onto the Bezier curve, from a given X. Calculates the position t along the curve.\n * Adapted from https://github.com/google/closure-library/blob/master/closure/goog/math/bezier.js.\n * @param {number} xVal\n * @param {number} x1\n * @param {number} x2\n * @return {number}\n */\nfunction solvePositionFromXValue(xVal, x1, x2) {\n  const epsilon = 1e-6;\n  const maxIterations = 8; // 迭代次数\n\n  if (xVal <= 0) {\n    return 0;\n  } else if (xVal >= 1) {\n    return 1;\n  }\n\n  // Initial estimate of t using linear interpolation.\n  let t = xVal;\n\n  // Try gradient descent to solve for t. If it works, it is very fast.\n  let tMin = 0;\n  let tMax = 1;\n  let value = 0;\n  for (let i = 0; i < maxIterations; i++) {\n    value = getBezierCoordinate(t, x1, x2);\n    const derivative =\n      (getBezierCoordinate(t + epsilon, x1, x2) - value) / epsilon;\n    if (Math.abs(value - xVal) < epsilon) {\n      return t;\n    } else if (Math.abs(derivative) < epsilon) {\n      break;\n    } else {\n      if (value < xVal) {\n        tMin = t;\n      } else {\n        tMax = t;\n      }\n      t -= (value - xVal) / derivative;\n    }\n  }\n\n  /*\n   * If the gradient descent got stuck in a local minimum, e.g. because\n   * the derivative was close to 0, use a Dichotomy refinement instead.\n   * We limit the number of interations to 8.\n   */\n  for (let i = 0; Math.abs(value - xVal) > epsilon && i < maxIterations; i++) {\n    if (value < xVal) {\n      tMin = t;\n      t = (t + tMax) / 2;\n    } else {\n      tMax = t;\n      t = (t + tMin) / 2;\n    }\n    value = getBezierCoordinate(t, x1, x2);\n  }\n  return t;\n}\n\n// 返回当前元素在父元素中的索引 index，是否过滤掉分隔符 list-divider，默认过滤\nfunction getElementIndexOfParent(element, filter) {\n  const parentNode = element.parentNode;\n  const children = parentNode.children;\n  let index = 0;\n  for (let i = 0, len = children.length; i < len; i++) {\n    if (filter && children[i].classList.contains(filter)) {\n      continue;\n    }\n    if (children[i] === element) {\n      return index;\n    }\n    index++;\n  }\n  return -1;\n}\n\nexport {\n  getTransformPropertyName,\n  clamp,\n  bezierProgress,\n  getElementIndexOfParent,\n};\n","import Component from '../../base/component';\n\n/*\n * 定义常量\n * class 样式\n */\nexport const classes = {\n  PAGING_ITEM: 'paging-item',\n  DISABLED: 'disabled',\n  ACTIVE: 'active',\n};\n\nexport const strings = {};\n\nclass Paging extends Component {\n  /**\n   * pagingControl 控制是否显示数据信息 {Boolean}\n   * recordPerPage 是否显示改变每页记录数 {Boolean}\n   * jumpControl 是否显示跳至某一页 {Boolean}\n   * @type {{pagingControl: boolean, recordPerPage: boolean, jumpControl: boolean}}\n   */\n  static defaultConfig = {\n    pagingControl: true,\n    recordPerPage: true,\n    jumpControl: true,\n  };\n\n  static get classes() {\n    return classes;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  /**\n   * 静态方法实例化 Paging 组件\n   * @param element\n   * @param config\n   * @returns {Select}\n   */\n  static mount(element, config) {\n    return new Paging(element, config);\n  }\n\n  constructor(element, config) {\n    super(element, { ...Paging.defaultConfig, ...config });\n    // 当前页，从1开始，默认1\n    if (this.pageNum === undefined) {\n      this.pageNum = 1;\n    }\n\n    // 每页条数，默认10\n    if (this.pageSize === undefined) {\n      this.pageSize = 10;\n    }\n\n    /*\n     * 总页码\n     * this.totalPages\n     */\n\n    /*\n     * 总记录数\n     * this.totalCount\n     */\n\n    /*\n     * 加载数据回调函数\n     * this.loadPageData = function() {}\n     */\n\n    /*\n     * 控制是否显示数据信息 {Boolean}\n     * this.pagingControl\n     */\n\n    /*\n     * 是否显示改变每页记录数 {Boolean}\n     * this.recordPerPage\n     */\n\n    /*\n     * 是否显示跳至某一页 {Boolean}\n     * this.jumpControl\n     */\n\n    // 创建适配器\n    this.adapter = this.createAdapter();\n\n    this.render();\n  }\n\n  /**\n   * 封装适配器方法\n   * @return {object}\n   */\n  createAdapter() {\n    return {};\n  }\n\n  init() {}\n\n  render() {\n    this.addEventListeners();\n    this.loadData();\n  }\n\n  unmount() {\n    this.removeEventListeners();\n  }\n\n  // 设置监听事件\n  addEventListeners() {\n    this.element.addEventListener('click', this.handleSwitchPage);\n    this.element.addEventListener('change', this.handleChangePerPage);\n  }\n\n  // 删除事件\n  removeEventListeners() {\n    this.element.removeEventListener('click', this.handleSwitchPage);\n    this.element.addEventListener('change', this.handleChangePerPage);\n  }\n\n  handleSwitchPage = evt => {\n    evt.preventDefault();\n    const { target } = evt;\n\n    const { classList } = target;\n\n    if (classList.contains(classes.PAGING_ITEM)) {\n      // 切换下一页逻辑\n      const pageNum = parseInt(target.dataset.pagenum, 10);\n      this.handleChangePage(pageNum);\n    } else if (classList.contains('js-jump-btn')) {\n      const input =\n        target.parentNode.previousElementSibling.children[0].children[0];\n      const pageNum = parseInt(input.value, 10);\n      if (!Number.isNaN(pageNum)) {\n        this.handleChangePage(pageNum);\n      }\n    }\n  };\n\n  handleChangePerPage = evt => {\n    evt.preventDefault();\n    const { target } = evt;\n\n    const { classList } = target;\n\n    if (classList.contains('select-inner')) {\n      // 切换下一页逻辑\n      const pageSize = parseInt(target.value, 10);\n      this.pageSize = pageSize;\n      this.loadData();\n    }\n  };\n\n  loadData(pageNum = 1) {\n    // 渲染数据\n    if (this.loadPageData && typeof this.loadPageData === 'function') {\n      this.loadPageData(pageNum, this.pageSize).then(json => {\n        const { totalCount, totalPages } = json.data;\n        this.totalPages = totalPages;\n        this.pageNum = pageNum;\n        this.totalCount = totalCount;\n        this.renderPaging();\n      });\n    } else {\n      this.pageNum = pageNum;\n      this.renderPaging();\n    }\n  }\n\n  handleChangePage(pageNum) {\n    if (this.totalPages === 1) {\n      return;\n    }\n    if (pageNum <= 1) {\n      pageNum = 1;\n    }\n\n    if (pageNum >= this.totalPages) {\n      pageNum = this.totalPages;\n    }\n\n    this.loadData(pageNum);\n  }\n\n  /**\n   * 计算页码显示算法，返回一个页码数组\n   * @returns {Array}\n   */\n  calculatePage() {\n    const totalPages = this.totalPages;\n    const pageNum = this.pageNum;\n\n    const pageArray = [];\n    if (totalPages < 8) {\n      for (let i = 1; i <= totalPages; i++) {\n        pageArray.push(i);\n      }\n    } else {\n      pageArray.push(1);\n      if (pageNum > 4) {\n        pageArray.push('...');\n      }\n\n      if (pageNum < 4) {\n        for (let i = 2; i <= 6; i++) {\n          pageArray.push(i);\n        }\n      } else if (pageNum >= 4 && totalPages - pageNum >= 3) {\n        for (let i = pageNum - 2; i <= pageNum + 2; i++) {\n          pageArray.push(i);\n        }\n      } else {\n        for (let i = totalPages - 4; i < totalPages; i++) {\n          pageArray.push(i);\n        }\n      }\n\n      // 总页码 - 当前页 大于 3 显示\n      if (totalPages - pageNum > 3) {\n        pageArray.push('...');\n      }\n      pageArray.push(totalPages);\n    }\n\n    return pageArray;\n  }\n\n  renderPaging() {\n    const pageArray = this.calculatePage();\n\n    let html = '<ul class=\"paging-items\">';\n    html += `<li class=\"paging-item${\n      this.pageNum === 1 ? ` ${classes.DISABLED}` : ''\n    }\" data-pagenum=\"${this.pageNum - 1}\">上一页</li>`;\n    const pageItems = pageArray.map((item, index) => {\n      if (item === '...') {\n        return '<li class=\"paging-item paging-more\"></li>';\n      }\n      return `<li class=\"paging-item${\n        this.pageNum === item ? ` ${classes.ACTIVE}` : ''\n      }\" data-pagenum=\"${item}\">${item}</li>`;\n    });\n    html += pageItems.join('');\n    html += `<li class=\"paging-item${\n      this.pageNum === this.totalPages ? ` ${classes.DISABLED}` : ''\n    }\" data-pagenum=\"${this.pageNum + 1}\">下一页</li>`;\n    html += '</ul>';\n\n    if (this.pagingControl) {\n      html += this.renderPagingControl();\n    }\n    this.element.innerHTML = html;\n  }\n\n  renderPagingControl() {\n    let html = '<ul class=\"paging-control\">';\n    html += `<li class=\"paging-control-item\">共${this.totalPages}页${this\n      .totalCount || 0}条记录,</li>`;\n\n    /* eslint-disable prettier/prettier, indent */\n    if (this.recordPerPage) {\n      html += `<li class=\"paging-control-item\">\n        每页\n        <div class=\"select\">\n        <select class=\"select-inner\">\n          <option value=\"5\"${this.pageSize === 5 ? ' selected' : ''}>5</option>\n          <option value=\"10\"${\n            this.pageSize === 10 ? ' selected' : ''\n          }>10</option>\n          <option value=\"20\"${\n            this.pageSize === 20 ? ' selected' : ''\n          }>20</option>\n          <option value=\"50\"${\n            this.pageSize === 50 ? ' selected' : ''\n          }>50</option>\n          <option value=\"100\"${\n            this.pageSize === 100 ? ' selected' : ''\n          }>100</option>\n        </select>\n        </div>\n      条,\n    </li>`;\n    }\n\n    if (this.jumpControl) {\n      html += `<li class=\"paging-control-item\">\n        跳至\n        <div class=\"input\">\n          <input type=\"text\" class=\"input-field\"/>\n        </div>\n        页\n      </li>\n      <li class=\"paging-control-item\">\n        <a href=\"\" class=\"btn btn-raised btn-primary btn-sm js-jump-btn\">确定</a>\n      </li>`;\n    }\n\n    html += '</ul>';\n\n    return html;\n  }\n}\n\nexport default Paging;\n","import Component from '../../base/component';\nimport ListMenu from '../../elements/menu/list-menu/list-menu';\n\nconst win = window;\nconst dom = document;\nconst body = dom.body;\n\n// 返回已选中的根 root option\nfunction getRootSelectedOption(el) {\n  const parentEl = el.parentNode.parentNode;\n  if (parentEl.classList.contains('list-menu')) {\n    return el;\n  }\n  return getRootSelectedOption(parentEl);\n}\n\n/*\n * 定义常量\n * class 样式\n */\nexport const classes = {\n  ELEMENT: 'select',\n  DISABLED: 'select-disabled',\n  OPEN: 'select-open',\n  SCROLL_LOCK: 'select-scroll-lock',\n  SELECT_MENU_FIXED: 'select-menu-fixed',\n};\n\nexport const strings = {\n  SELECT_INNER: '.select-inner',\n  CHANGE_EVENT: 'select:change',\n  SELECT_MENU: '.select-menu',\n  SELECT_SELECTED_TEXT: '.select-selected-text',\n};\n\nconst openerKeys = [\n  { key: 'ArrowUp', keyCode: 38, forType: 'keydown' },\n  { key: 'ArrowDown', keyCode: 40, forType: 'keydown' },\n  { key: 'Space', keyCode: 32, forType: 'keyup' },\n];\n\nclass Select extends Component {\n  static get classes() {\n    return classes;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  /**\n   * 静态方法实例化 Select 组件\n   * @param element\n   * @param config\n   * @returns {Select}\n   */\n  static mount(element, config) {\n    return new Select(element, config);\n  }\n\n  // 返回当前选中的 value 和 text\n  get valueText() {\n    return this.getSelectedValue ? this.getSelectedValue() : '';\n  }\n\n  get options() {\n    // 返回叶子节点作为 options\n    return this.menu.leafItems;\n  }\n\n  // 返回已经选中的 select option，只处理可以多选的 select，FIXME\n  get selectedOptions() {\n    return this.element.querySelectorAll('[aria-selected]');\n  }\n\n  constructor(element, config) {\n    super(element, config);\n\n    // 创建适配器\n    this.adapter = this.createAdapter();\n\n    this.selectedIndex = -1; // 已选的 select option，指叶子节点索引\n    this.disabled = false; // 是否禁用\n    this.isFocused = false; // 获取焦点\n\n    // 如果没有已选中的 option，是否默认选中第一个\n    if (this.selectedFirstOption === undefined) {\n      this.selectedFirstOption = true;\n    }\n\n    // 是否滚动锁屏\n    if (this.isScrollLock === undefined) {\n      this.isScrollLock = true;\n    }\n\n    // 是否设置 select 为 fixed\n    if (this.isFixed === undefined) {\n      this.isFixed = true;\n    }\n\n    // 提供一个默认获取 select value 和 text 方法\n    if (!this.getSelectedValue) {\n      this.getSelectedValue = isText => {\n        const { selectedIndex } = this;\n        if (selectedIndex > -1) {\n          // 返回叶子节点 data-value 设置的值\n          return {\n            value: this.options[selectedIndex].dataset.value,\n            text: this.adapter.getTextForOptionAtIndex(selectedIndex),\n          };\n        }\n        return {};\n      };\n    }\n\n    this.render();\n    this.initialSyncWithDOM();\n  }\n\n  /**\n   * 封装适配器方法\n   * @return {object}\n   */\n  createAdapter() {\n    return {\n      addClass: className => this.element.classList.add(className),\n      removeClass: className => this.element.classList.remove(className),\n      setAttr: (attr, value) => this.element.setAttribute(attr, value),\n      rmAttr: attr => this.element.removeAttribute(attr),\n      computeBoundingRect: () => this.selectInner.getBoundingClientRect(),\n      focus: () => this.selectInner.focus(),\n      makeTabbable: () => {\n        this.selectInner.tabIndex = 0;\n      },\n      makeUntabbable: () => {\n        this.selectInner.tabIndex = -1;\n      },\n      setMenuElStyle: (propertyName, value) =>\n        this.menuEl.style.setProperty(propertyName, value),\n      setMenuElAttr: (attr, value) => this.menuEl.setAttribute(attr, value),\n      rmMenuElAttr: attr => this.menuEl.removeAttribute(attr),\n      getMenuElOffsetHeight: () => this.menuEl.offsetHeight,\n      openMenu: focusIndex => this.menu.show({ focusIndex }),\n      isMenuOpen: () => this.menu.open,\n      setSelectedTextContent: selectedTextContent => {\n        this.selectedText.textContent = selectedTextContent;\n      },\n      getNumberOfOptions: () => this.options.length,\n      getTextForOptionAtIndex: index => this.options[index].textContent,\n      setAttrForOptionAtIndex: (index, attr, value) =>\n        this.options[index].setAttribute(attr, value),\n      rmAttrForOptionAtIndex: (index, attr) =>\n        this.options[index].removeAttribute(attr),\n      getLeafOptionIndex: item => {\n        const len = this.options.length;\n        for (let i = 0; i < len; i++) {\n          if (this.options[i] === item) {\n            return i;\n          }\n        }\n        return -1;\n      },\n      notifyChange: () => {\n        const menu = this.menu;\n        this.emit(strings.CHANGE_EVENT, {\n          index: menu.previousActiveItemsIndex,\n          items: menu.previousActiveItems,\n          valueText: this.valueText,\n        });\n      },\n      getWindowInnerHeight: () => win.innerHeight,\n      addBodyClass: className => body.classList.add(className),\n      removeBodyClass: className => body.classList.remove(className),\n    };\n  }\n\n  // 默认 menuFactory 为 ListMenu\n  init(menuFactory = el => new ListMenu(el)) {\n    this.selectInner = this.element.querySelector(strings.SELECT_INNER);\n    this.selectedText = this.element.querySelector(\n      strings.SELECT_SELECTED_TEXT\n    );\n    this.menuEl = this.element.querySelector(strings.SELECT_MENU);\n    this.menu = menuFactory(this.menuEl);\n  }\n\n  initialSyncWithDOM() {\n    // 设置当前活动的 index\n    const selectedOption = this.selectedOptions[0];\n    const idx = selectedOption\n      ? this.options.indexOf(selectedOption)\n      : this.selectedFirstOption\n        ? 0\n        : -1;\n\n    if (idx > -1) {\n      this.selectedIndex = idx;\n      this.menu.setActiveItemAtIndex(idx);\n    }\n\n    // 设置禁用\n    if (this.element.getAttribute('aria-disabled') === 'true') {\n      this.disabled = true;\n    }\n  }\n\n  render() {\n    if (this.isFixed) {\n      this.menuEl.classList.add(classes.SELECT_MENU_FIXED);\n    }\n    this.addEventListeners();\n  }\n\n  unmount() {\n    this.removeEventListeners();\n  }\n\n  // 设置监听事件\n  addEventListeners() {\n    this.selectInner.addEventListener('click', this.displayHandler);\n    this.selectInner.addEventListener('keydown', this.handleDisplayKeyboard);\n    this.selectInner.addEventListener('keyup', this.handleDisplayKeyboard);\n\n    // 监听 ListMenu 事件\n    this.menu.listen(ListMenu.strings.SELECTED_EVENT, this.selectionHandler);\n    this.menu.listen(ListMenu.strings.CANCEL_EVENT, this.cancelHandler);\n  }\n\n  // 删除事件\n  removeEventListeners() {\n    this.selectInner.removeEventListener('click', this.displayHandler);\n    this.selectInner.removeEventListener('keydown', this.handleDisplayKeyboard);\n    this.selectInner.removeEventListener('keyup', this.handleDisplayKeyboard);\n\n    // 监听 ListMenu 事件\n    this.menu.unlisten(ListMenu.strings.SELECTED_EVENT, this.selectionHandler);\n    this.menu.unlisten(ListMenu.strings.CANCEL_EVENT, this.cancelHandler);\n  }\n\n  item(index) {\n    return this.options[index] || null;\n  }\n\n  displayHandler = evt => {\n    evt.preventDefault();\n    if (!this.adapter.isMenuOpen()) {\n      this.open();\n    }\n  };\n\n  handleDisplayKeyboard(evt) {\n    /*\n     * We use a hard-coded 2 instead of Event.AT_TARGET to avoid having to reference a browser\n     * global.\n     */\n    const EVENT_PHASE_AT_TARGET = 2;\n    if (evt.eventPhase !== EVENT_PHASE_AT_TARGET) {\n      return;\n    }\n\n    // Prevent pressing space down from scrolling the page\n    const isSpaceDown =\n      evt.type === 'keydown' && (evt.key === 'Space' || evt.keyCode === 32);\n    if (isSpaceDown) {\n      evt.preventDefault();\n    }\n\n    const isOpenerKey = openerKeys.some(\n      ({ key, keyCode, forType }) =>\n        evt.type === forType && (evt.key === key || evt.keyCode === keyCode)\n    );\n\n    if (isOpenerKey) {\n      this.displayHandler(evt);\n    }\n  }\n\n  // ListMenu SELECTED_EVENT 事件\n  selectionHandler = ({ detail }) => {\n    const { index, items } = detail;\n\n    // 如果不相等\n    if (!this.compareSelectedIndex(index)) {\n      const len = items.length;\n      const leafIndex = this.adapter.getLeafOptionIndex(items[len - 1]);\n      this.setSelectedIndex(leafIndex);\n      this.adapter.notifyChange();\n    }\n    this.close();\n  };\n\n  cancelHandler = () => {\n    this.close();\n  };\n\n  getSelectedIndex() {\n    return this.selectedIndex;\n  }\n\n  setSelectedIndex(index) {\n    // 先删除上一次选择的 option\n    const prevSelectedIndex = this.selectedIndex;\n    if (prevSelectedIndex >= 0) {\n      this.adapter.rmAttrForOptionAtIndex(this.selectedIndex, 'aria-selected');\n    }\n\n    this.selectedIndex =\n      index >= 0 && index < this.adapter.getNumberOfOptions() ? index : -1;\n    let selectedTextContent = '';\n    if (this.selectedIndex >= 0) {\n      selectedTextContent = this.adapter\n        .getTextForOptionAtIndex(this.selectedIndex)\n        .trim();\n      this.adapter.setAttrForOptionAtIndex(\n        this.selectedIndex,\n        'aria-selected',\n        'true'\n      );\n    }\n    this.adapter.setSelectedTextContent(selectedTextContent);\n  }\n\n  isDisabled() {\n    return this.disabled;\n  }\n\n  setDisabled(disabled) {\n    const { DISABLED } = classes;\n    this.disabled = disabled;\n    if (this.disabled) {\n      this.adapter.addClass(DISABLED);\n      this.adapter.setAttr('aria-disabled', 'true');\n      this.adapter.makeUntabbable();\n    } else {\n      this.adapter.removeClass(DISABLED);\n      this.adapter.rmAttr('aria-disabled');\n      this.adapter.makeTabbable();\n    }\n  }\n\n  open() {\n    if (this.isScrollLock) {\n      this.disableScroll();\n    }\n    const { OPEN } = classes;\n    // 根据已选的叶子节点 this.selectedIndex 拿到第一层 select item\n    const focusIndex = this.selectedIndex < 0 ? 0 : this.selectedIndex;\n    if (this.isFixed) {\n      const selectedRootOption = getRootSelectedOption(\n        this.options[focusIndex]\n      );\n      this.setMenuStylesForOpen(selectedRootOption);\n    }\n    this.adapter.addClass(OPEN);\n    this.adapter.openMenu(focusIndex);\n    this.isFocused = true;\n  }\n\n  close() {\n    const { OPEN } = classes;\n    this.adapter.removeClass(OPEN);\n    this.adapter.focus();\n    if (this.isScrollLock) {\n      this.enableScroll();\n    }\n  }\n\n  setMenuStylesForOpen(selectedRootOption) {\n    const winInnerHeight = this.adapter.getWindowInnerHeight();\n    const { left, top } = this.adapter.computeBoundingRect();\n\n    this.adapter.setMenuElAttr('aria-hidden', 'true');\n    this.adapter.setMenuElStyle('display', 'block');\n    const menuHeight = this.adapter.getMenuElOffsetHeight();\n    const itemOffsetTop = selectedRootOption.offsetTop;\n    this.adapter.setMenuElStyle('display', '');\n    this.adapter.rmMenuElAttr('aria-hidden');\n\n    let adjustedTop = top - itemOffsetTop;\n    const overflowsTop = adjustedTop < 0;\n    const overflowsBottom = adjustedTop + menuHeight > winInnerHeight;\n    if (overflowsTop) {\n      adjustedTop = 0;\n    } else if (overflowsBottom) {\n      adjustedTop = Math.max(0, winInnerHeight - menuHeight);\n    }\n\n    this.adapter.setMenuElStyle('left', `${left}px`);\n    this.adapter.setMenuElStyle('top', `${adjustedTop}px`);\n    this.adapter.setMenuElStyle(\n      'transform-origin',\n      `center ${itemOffsetTop}px`\n    );\n  }\n\n  nameditem(key) {\n    // NOTE: IE11 precludes us from using Array.prototype.find\n    for (\n      let i = 0, options = this.options, option;\n      (option = options[i]);\n      i++\n    ) {\n      if (option.id === key || option.getAttribute('name') === key) {\n        return option;\n      }\n    }\n    return null;\n  }\n\n  disableScroll() {\n    this.adapter.addBodyClass(classes.SCROLL_LOCK);\n  }\n\n  enableScroll() {\n    this.adapter.removeBodyClass(classes.SCROLL_LOCK);\n  }\n\n  compareSelectedIndex(index) {\n    if (!this.selectedIndex || !index) {\n      return false;\n    }\n    if (this.selectedIndex.length !== index.length) {\n      return false;\n    }\n    const len = index.length;\n    for (let i = 0; i < len; i++) {\n      if (this.selectedIndex[i] !== index[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nexport default Select;\n","import ScrollSpy from './scroll-spy/scrollSpy';\nimport CatalogueSpy from './scroll-spy/plugins/catalogueSpy';\nimport Ripple from './ripple/ripple';\nimport ListMenu from './elements/menu/list-menu/list-menu';\nimport Select from './forms/select/select';\nimport Paging from './elements/paging/paging';\n\nexport { ScrollSpy, CatalogueSpy, Ripple, ListMenu, Select, Paging };\n","import Component from '../base/component';\nimport {\n  supportsCssVariables,\n  applyPassive,\n  getMatchesProperty,\n  getNormalizedEventCoords,\n} from './util';\n\n// 定义常量\nconst classes = {\n  ELEMENT: 'ripple-impact',\n  UNBOUNDED: 'ripple-unbounded',\n  FOCUSED: 'ripple-impact-focused',\n  ACTIVE: 'ripple-impact-active',\n  INACTIVE: 'ripple-impact-inactive',\n};\n\nconst strings = {\n  VAR_SIZE: '--ripple-size',\n  VAR_LEFT: '--ripple-left',\n  VAR_TOP: '--ripple-top',\n  VAR_SCALE: '--ripple-scale',\n  VAR_TRANSLATE_START: '--ripple-translate-start',\n  VAR_TRANSLATE_END: '--ripple-translate-end',\n};\n\nconst numbers = {\n  PADDING: 10, // 波纹 padding\n  INITIAL_ORIGIN_SCALE: 0.6, // 初始波纹缩放比例\n  DEACTIVATION_TIMEOUT_MS: 225, // 从活动状态到结束持续的时间，看 scss 变量 $ripple-translate-duration\n  DEACTIVATION_MS: 150, // 非活动状态到结束持续的时间，看 scss 变量 $ripple-fade-out-duration\n};\n\n// 非活动状态和活动状态对应\nconst DEACTIVATION_ACTIVATION_PAIRS = {\n  mouseup: 'mousedown',\n  pointerup: 'pointerdown',\n  touchend: 'touchstart',\n  keyup: 'keydown',\n  blur: 'focus',\n};\n\nclass Ripple extends Component {\n  static get classes() {\n    return classes;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  /**\n   * 静态方法实例化 Ripple 组件\n   * @param element\n   * @param unbounded\n   * @returns {Ripple}\n   */\n  static mount(element, { unbounded = undefined } = {}) {\n    const ripple = new Ripple(element);\n    if (unbounded !== undefined) {\n      ripple.unbounded = /** @type {boolean} */ unbounded;\n    }\n    return ripple;\n  }\n\n  /**\n   * @param {Ripple} instance\n   * @return {RippleAdapter}\n   */\n  static createAdapter(instance) {\n    const matches = getMatchesProperty(HTMLElement.prototype);\n\n    // 封装一些适配器方法\n    return {\n      isSupportsCssVars: () => supportsCssVariables(),\n      isUnbounded: () => instance.unbounded,\n      isActive: () => instance.element[matches](':active'),\n      isDisabled: () => instance.disabled,\n      addClass: className => instance.element.classList.add(className),\n      removeClass: className => instance.element.classList.remove(className),\n      registerImpactHandler: (evtType, handler) =>\n        instance.element.addEventListener(evtType, handler, applyPassive()),\n      deregisterImpactHandler: (evtType, handler) =>\n        instance.element.removeEventListener(evtType, handler, applyPassive()),\n      registerResizeHandler: handler =>\n        window.addEventListener('resize', handler),\n      deregisterResizeHandler: handler =>\n        window.removeEventListener('resize', handler),\n      updateCssVariable: (varName, value) =>\n        instance.element.style.setProperty(varName, value),\n      removeCssVariable: varName =>\n        instance.element.style.removeProperty(varName),\n      computeBoundingRect: () => instance.element.getBoundingClientRect(),\n      getWindowPageOffset: () => ({\n        x: window.pageXOffset,\n        y: window.pageYOffset,\n      }),\n    };\n  }\n\n  /**\n   * 重置 Ripple 活动状态\n   * @returns {}\n   */\n  static resetActivationState() {\n    return {\n      isActivated: false, // 当前是否为活动状态\n      hasDeactivationUXRun: false, // 是否有取消激活运行状态\n      wasActivatedByPointer: false, // 是否是通过鼠标或触摸来激活(也可以调用方法激活)\n      wasElementMadeActive: false, // 元素是否处于活动状态，即 element.matches(':active') 为 true\n      activationStartTime: 0, // 开始时间\n      activationEvent: null, // 当前事件对象 event\n      isProgrammatic: false, // 是否在当前活动进程中\n    };\n  }\n\n  constructor(element, config) {\n    super(element, config);\n    // 用来处理是否设置了 disabled\n    /* config.disabled */\n    this.disabled = this.disabled || false;\n\n    // 是否是无界限的 Ripple\n    this.unbounded = this.unbounded || false;\n\n    // 创建适配器\n    this.adapter = Ripple.createAdapter(this);\n\n    // 用来处理 requestAnimationFrame 返回的值\n    this.layoutFrame = 0;\n\n    // Ripple Rect size\n    this.rippleSize = { width: 0, height: 0 };\n\n    // 初始化 Ripple 默认活动状态\n    this.activationState = Ripple.resetActivationState();\n\n    // 动画持续的时长\n    this.duration = 0;\n\n    // 波纹初始大小\n    this.initialSize = 0;\n\n    // 波纹扩散最大的圆弧\n    this.maxRadius = 0;\n\n    // 无解限制坐标\n    this.unboundedCoords = {\n      left: 0,\n      top: 0,\n    };\n\n    // 缩放比例\n    this.scale = 0;\n\n    // activation setTimeout Id\n    this.activationTimer = null;\n\n    // deactivation removal setTimeout Id\n    this.deactivationRemovalTimer = null;\n\n    // 动画是否结束\n    this.activationAnimationHasEnded = false;\n\n    // activation setTimeout 函数\n    this.activationTimerCallback = () => {\n      this.activationAnimationHasEnded = true;\n      this.runDeactivationAnimation();\n    };\n\n    // 事件与监听函数名称对应\n    this.listenerInfos = [\n      { activate: 'touchstart', deactivate: 'touchend' },\n      { activate: 'pointerdown', deactivate: 'pointerup' },\n      { activate: 'mousedown', deactivate: 'mouseup' },\n      { activate: 'keydown', deactivate: 'keyup' },\n      { focus: 'focus', blur: 'blur' },\n    ];\n\n    // 监听函数 Map\n    this.listeners = {\n      activate: e => this.activate(e),\n      deactivate: e => this.deactivate(e),\n      focus: () =>\n        requestAnimationFrame(() => this.adapter.addClass(classes.FOCUSED)),\n      blur: () =>\n        requestAnimationFrame(() => this.adapter.removeClass(classes.FOCUSED)),\n    };\n\n    this._init();\n  }\n\n  // 是否支持 css 变量\n  isSupported() {\n    return this.adapter.isSupportsCssVars();\n  }\n\n  // 初始化组件\n  _init() {\n    if (!this.isSupported()) {\n      return;\n    }\n\n    this.addEventListeners();\n\n    const { ELEMENT, UNBOUNDED } = classes;\n    requestAnimationFrame(() => {\n      this.adapter.addClass(ELEMENT);\n      if (this.adapter.isUnbounded()) {\n        this.adapter.addClass(UNBOUNDED);\n      }\n      this.layoutInternal();\n    });\n  }\n\n  /**\n   * 重新布局，重置波纹参数\n   * 比如当窗口改变时，调用该方法\n   */\n  layout() {\n    if (this.layoutFrame) {\n      cancelAnimationFrame(this.layoutFrame);\n    }\n    this.layoutFrame = requestAnimationFrame(() => {\n      this.layoutInternal();\n      this.layoutFrame = 0;\n    });\n  }\n\n  // 初始化波纹个参数\n  layoutInternal() {\n    this.rippleRect = this.adapter.computeBoundingRect();\n    const { width, height } = this.rippleRect;\n\n    // 元素大小\n    const maxDim = Math.max(width, height);\n    // 波纹直径\n    const diameter = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n\n    // 初始波纹大小，取元素大小的 60%\n    this.initialSize = maxDim * numbers.INITIAL_ORIGIN_SCALE;\n\n    // 波纹扩散圆弧，直径 + padding\n    this.maxRadius = diameter + numbers.PADDING;\n    // 计算缩放比例\n    this.scale = this.maxRadius / this.initialSize;\n    this.duration = 1000 * Math.sqrt(this.maxRadius / 1024);\n    this.updateCssVariableValue();\n  }\n\n  updateCssVariableValue() {\n    const { VAR_SIZE, VAR_LEFT, VAR_TOP, VAR_SCALE } = strings;\n\n    this.adapter.updateCssVariable(VAR_SIZE, `${this.initialSize}px`);\n    this.adapter.updateCssVariable(VAR_SCALE, this.scale);\n\n    if (this.adapter.isUnbounded()) {\n      const { width, height } = this.rippleRect;\n      this.unboundedCoords = {\n        left: Math.round(width / 2 - this.initialSize / 2),\n        top: Math.round(height / 2 - this.initialSize / 2),\n      };\n\n      this.adapter.updateCssVariable(\n        VAR_LEFT,\n        `${this.unboundedCoords.left}px`\n      );\n      this.adapter.updateCssVariable(VAR_TOP, `${this.unboundedCoords.top}px`);\n    }\n  }\n\n  // 设置监听事件\n  addEventListeners() {\n    this.listenerInfos.forEach(info => {\n      Object.keys(info).forEach(k => {\n        this.adapter.registerImpactHandler(info[k], this.listeners[k]);\n      });\n    });\n\n    // 注册 resize 事件\n    this.adapter.registerResizeHandler(this.layout);\n  }\n\n  // 删除事件\n  removeEventListeners() {\n    this.listenerInfos.forEach(info => {\n      Object.keys(info).forEach(k => {\n        this.adapter.deregisterImpactHandler(info[k], this.listeners[k]);\n      });\n    });\n    this.adapter.deregisterResizeHandler(this.layout);\n  }\n\n  /**\n   * 当 Ripple 处于活动状态时\n   * 对应的事件有 touchstart pointerdown mousedown keydown\n   * @param {Event} e\n   * @private\n   */\n  activate(e) {\n    if (this.adapter.isDisabled()) {\n      return;\n    }\n\n    const { activationState } = this;\n    if (activationState.isActivated) {\n      return;\n    }\n\n    activationState.isActivated = true;\n    activationState.isProgrammatic = e === null;\n    activationState.activationEvent = e;\n    activationState.wasActivatedByPointer = activationState.isProgrammatic\n      ? false\n      : e.type === 'mousedown' ||\n        e.type === 'touchstart' ||\n        e.type === 'pointerdown';\n    activationState.activationStartTime = Date.now();\n\n    requestAnimationFrame(() => {\n      /*\n       * 对于 keydown 事件需要判断是否当前为活动状态，即 element.matches(':active')\n       * - https://bugs.chromium.org/p/chromium/issues/detail?id=635971\n       * - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741\n       */\n      activationState.wasElementMadeActive =\n        e && e.type === 'keydown' ? this.adapter.isActive() : true;\n      if (activationState.wasElementMadeActive) {\n        this.animateActivation();\n      } else {\n        // 如果元素没有被激活，重置 Ripple 状态\n        this.activationState = Ripple.resetActivationState();\n      }\n    });\n  }\n\n  // 处理 Ripple 动画\n  animateActivation() {\n    const { VAR_TRANSLATE_START, VAR_TRANSLATE_END } = strings;\n    const { ACTIVE, INACTIVE } = classes;\n    const { DEACTIVATION_TIMEOUT_MS } = numbers;\n\n    let translateStart = '';\n    let translateEnd = '';\n\n    if (!this.adapter.isUnbounded()) {\n      const { startPoint, endPoint } = this.getTranslationCoords();\n      translateStart = `${startPoint.x}px, ${startPoint.y}px`;\n      translateEnd = `${endPoint.x}px, ${endPoint.y}px`;\n    }\n\n    this.adapter.updateCssVariable(VAR_TRANSLATE_START, translateStart);\n    this.adapter.updateCssVariable(VAR_TRANSLATE_END, translateEnd);\n    // 取消进行中的 activation 和 deactivation\n    clearTimeout(this.activationTimer);\n    clearTimeout(this.deactivationRemovalTimer);\n    this.rmActivationClasses();\n    this.adapter.removeClass(INACTIVE);\n\n    // 强制重绘，触发动画\n    this.adapter.computeBoundingRect();\n    this.adapter.addClass(ACTIVE);\n    this.activationTimer = setTimeout(\n      () => this.activationTimerCallback(),\n      DEACTIVATION_TIMEOUT_MS\n    );\n  }\n\n  /**\n   * 返回Translation 开始和结束坐标\n   * @returns {{startPoint: ({x: number, y: number}|*), endPoint: {x: number, y: number}}}\n   */\n  getTranslationCoords() {\n    const { activationState } = this;\n    const { activationEvent, wasActivatedByPointer } = activationState;\n    const { width, height } = this.rippleRect;\n\n    let startPoint;\n    if (wasActivatedByPointer) {\n      startPoint = getNormalizedEventCoords(\n        activationEvent,\n        this.adapter.getWindowPageOffset(),\n        this.adapter.computeBoundingRect()\n      );\n    } else {\n      startPoint = {\n        x: width / 2,\n        y: height / 2,\n      };\n    }\n    // Center the element around the start point.\n    startPoint = {\n      x: startPoint.x - this.initialSize / 2,\n      y: startPoint.y - this.initialSize / 2,\n    };\n\n    const endPoint = {\n      x: width / 2 - this.initialSize / 2,\n      y: height / 2 - this.initialSize / 2,\n    };\n\n    return { startPoint, endPoint };\n  }\n\n  /**\n   * 运行 Deactivation 动画\n   */\n  runDeactivationAnimation() {\n    const { INACTIVE } = classes;\n    const { hasDeactivationUXRun, isActivated } = this.activationState;\n    const activationHasEnded = hasDeactivationUXRun || !isActivated;\n    if (activationHasEnded && this.activationAnimationHasEnded) {\n      this.rmActivationClasses();\n      this.adapter.addClass(INACTIVE);\n      this.deactivationRemovalTimer = setTimeout(() => {\n        this.adapter.removeClass(INACTIVE);\n      }, numbers.DEACTIVATION_MS);\n    }\n  }\n\n  /**\n   * 删除活动状态\n   */\n  rmActivationClasses() {\n    const { ACTIVE } = classes;\n    this.adapter.removeClass(ACTIVE);\n    this.activationAnimationHasEnded = false;\n    this.adapter.computeBoundingRect();\n  }\n\n  /**\n   * 取消活动状态事件\n   * @param e\n   * @private\n   */\n  deactivate(e) {\n    const { activationState } = this;\n    // 如果当前不是活动状态，则取消\n    if (!activationState.isActivated) {\n      return;\n    }\n    // 如果是进行中的取消过程\n    if (activationState.isProgrammatic) {\n      const evtObject = null;\n      const state = { ...activationState };\n      requestAnimationFrame(() => this.animateDeactivation(evtObject, state));\n      this.activationState = Ripple.resetActivationState();\n      return;\n    }\n\n    const actualActivationType = DEACTIVATION_ACTIVATION_PAIRS[e.type];\n    const expectedActivationType = activationState.activationEvent.type;\n    /*\n     * NOTE: Pointer events are tricky - https://patrickhlauke.github.io/touch/tests/results/\n     * Essentially, what we need to do here is decouple the deactivation UX from the actual\n     * deactivation state itself. This way, touch/pointer events in sequence do not trample one\n     * another.\n     */\n    const needsDeactivationUX = actualActivationType === expectedActivationType;\n    let needsActualDeactivation = needsDeactivationUX;\n    if (activationState.wasActivatedByPointer) {\n      needsActualDeactivation = e.type === 'mouseup';\n    }\n\n    const state = { ...activationState };\n    requestAnimationFrame(() => {\n      if (needsDeactivationUX) {\n        this.activationState.hasDeactivationUXRun = true;\n        this.animateDeactivation(e, state);\n      }\n\n      if (needsActualDeactivation) {\n        this.activationState = Ripple.resetActivationState();\n      }\n    });\n  }\n\n  /**\n   * @param {Event} e\n   * @param {!ActivationStateType} options\n   * @private\n   */\n  animateDeactivation(e, { wasActivatedByPointer, wasElementMadeActive }) {\n    const { FOCUSED } = classes;\n    if (wasActivatedByPointer || wasElementMadeActive) {\n      // Remove class left over by element being focused\n      this.adapter.removeClass(FOCUSED);\n      this.runDeactivationAnimation();\n    }\n  }\n}\n\nexport default Ripple;\n","const win = window;\nconst doc = document;\n\n/**\n * 是否支持 css 变量（css 自定义属性）\n * @private {boolean|undefined}\n */\nlet supportsCssVariables_;\n\n/**\n * 是否支持事件 passive\n * https://www.cnblogs.com/ziyunfei/p/5545439.html\n * https://github.com/WICG/EventListenerOptions\n * @private {boolean|undefined}\n */\nlet supportsPassive_;\n\n/**\n * 对于 Edge 15 浏览器，伪类设置 css 变量存在 bug\n * @return {boolean}\n */\nfunction detectEdgePseudoVarBug() {\n  /*\n   * Detect versions of Edge with buggy var() support\n   * See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n   */\n  const node = doc.createElement('div');\n  node.className = 'ripple-test-edge-var-bug';\n  doc.body.appendChild(node);\n\n  /*\n   * The bug exists if ::before style ends up propagating to the parent element.\n   * Additionally, getComputedStyle returns null in iframes with display: \"none\" in Firefox,\n   * but Firefox is known to support CSS custom properties correctly.\n   * See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   */\n  const computedStyle = win.getComputedStyle(node);\n  const hasPseudoVarBug =\n    computedStyle !== null && computedStyle.borderTopStyle === 'solid';\n  node.remove();\n  return hasPseudoVarBug;\n}\n\n/**\n * 判断是否支持 css 变量\n * https://caniuse.com/#feat=css-variables\n * 当前支持的浏览器有：\n * Edge 15+ (15对于伪类有 bug)、Firefox 31+ 、Chrome 49+ 、Safari 9.1+、Opera 36+\n * IOS Safari 9.3+ 、(Android 5+: Chromium 62+ Opera 37+ Chrome 62+ FireFox 57+ )\n * @param {boolean=} forceRefresh\n * @return {boolean|undefined}\n */\n\nfunction supportsCssVariables(forceRefresh = false) {\n  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n    return supportsCssVariables_;\n  }\n\n  const supportsFunctionPresent =\n    win.CSS && typeof win.CSS.supports === 'function';\n  if (!supportsFunctionPresent) {\n    return;\n  }\n\n  const explicitlySupportsCssVars = win.CSS.supports('--css-vars', 'yes');\n  /*\n   * See: https://bugs.webkit.org/show_bug.cgi?id=154669\n   * See: README section on Safari\n   */\n  const weAreFeatureDetectingSafari10plus =\n    win.CSS.supports('(--css-vars: yes)') &&\n    win.CSS.supports('color', '#00000000');\n\n  if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {\n    supportsCssVariables_ = !detectEdgePseudoVarBug();\n  } else {\n    supportsCssVariables_ = false;\n  }\n  return supportsCssVariables_;\n}\n\n/**\n * 判断浏览器是否支持 passive 事件监听，如果支持，则使用\n * https://www.cnblogs.com/ziyunfei/p/5545439.html\n * https://github.com/WICG/EventListenerOptions\n * @param {!Window=} globalObj\n * @param {boolean=} forceRefresh\n * @return {boolean|{passive: boolean}}\n */\nfunction applyPassive(globalObj = window, forceRefresh = false) {\n  if (supportsPassive_ === undefined || forceRefresh) {\n    let isSupported = false;\n    try {\n      /* eslint-disable getter-return */\n      globalObj.document.addEventListener('test', null, {\n        get passive() {\n          isSupported = true;\n        },\n      });\n    } catch (e) {\n      /* 不支持 */\n    }\n\n    supportsPassive_ = isSupported;\n  }\n\n  return supportsPassive_ ? { passive: true } : false;\n}\n\n/**\n * 使用 matches (老版本使用 webkitMatchesSelector, msMatchesSelector) 来测试一个选择器是否被浏览器支持，比如 :active 等\n * @param {!Object} HTMLElementPrototype\n * @return {!Array<string>}\n */\nfunction getMatchesProperty(HTMLElementPrototype) {\n  return ['webkitMatchesSelector', 'msMatchesSelector', 'matches']\n    .filter(p => p in HTMLElementPrototype)\n    .pop();\n}\n\n/**\n * 返回事件基于元素左上角偏移坐标值\n * @param {!Event} ev\n * @param {!{x: number, y: number}} pageOffset\n * @param {!ClientRect} clientRect\n * @return {!{x: number, y: number}}\n */\nfunction getNormalizedEventCoords(ev, pageOffset, clientRect) {\n  const { x, y } = pageOffset;\n  const documentX = x + clientRect.left;\n  const documentY = y + clientRect.top;\n\n  let normalizedX;\n  let normalizedY;\n  // Determine touch point relative to the ripple container.\n  if (ev.type === 'touchstart') {\n    normalizedX = ev.changedTouches[0].pageX - documentX;\n    normalizedY = ev.changedTouches[0].pageY - documentY;\n  } else {\n    normalizedX = ev.pageX - documentX;\n    normalizedY = ev.pageY - documentY;\n  }\n\n  return { x: normalizedX, y: normalizedY };\n}\n\nexport {\n  supportsCssVariables,\n  applyPassive,\n  getMatchesProperty,\n  getNormalizedEventCoords,\n};\n","import util from '../../base/util';\n\nconst { isWheel } = util;\n\nconst win = window;\nconst doc = document;\nconst resizeEvt = 'orientationchange' in win ? 'orientationchange' : 'resize';\n\nconst reg = /translateY\\(([-\\w]+)\\)/;\n\nclass CatalogueSpy {\n  static defaultConfig = {\n    menuHeight: null, // 设置菜单高度，如果不设置，则取当前浏览器可视高度\n    step: 30, // 滚动鼠标，菜单滑动步长\n  };\n\n  constructor(scrollSpy, config = {}) {\n    this.scrollSpy = scrollSpy;\n    this.config = { ...CatalogueSpy.defaultConfig, ...config };\n\n    let { menuHeight } = this.config;\n    if (!menuHeight) {\n      menuHeight = document.documentElement.clientHeight - 64;\n      this.config.menuHeight = menuHeight;\n    }\n\n    const { $menuPanel } = scrollSpy;\n    $menuPanel.style.transform = 'translateY(0)';\n    $menuPanel.style.maxHeight = `${menuHeight}px`;\n    this.$menuPanel = $menuPanel;\n\n    win.addEventListener(resizeEvt, this.adjustMenuHeight, false);\n  }\n\n  // 调整菜单最大高度\n  adjustMenuHeight = () => {\n    const menuHeight = doc.documentElement.clientHeight - 64;\n    this.$menuPanel.style.maxHeight = `${menuHeight}px`;\n  };\n\n  mount() {\n    /*\n     * fixme 待改进，改成 scrollSpy 触发该事件，参考 web-guide 项目\n     * http://www.zhangxinxu.com/wordpress/2013/04/js-mousewheel-dommousescroll-event/\n     */\n    this.$menuPanel.addEventListener(\n      isWheel ? 'mousewheel' : 'DOMMouseScroll',\n      this.handleScroll(true),\n      false\n    );\n  }\n\n  handleScroll = prevent =>\n    /* eslint-disable complexity */\n    e => {\n      const { scrollHeight, clientHeight } = this.$menuPanel;\n      const { step } = this.config;\n      this.maxOffset = scrollHeight - clientHeight; // 最大滚动的高度\n\n      // 判断鼠标滑轮向上还是向下滑动\n      let upDown;\n      const { detail, wheelDelta } = e;\n      if (detail) {\n        if (detail < 0) {\n          // up\n          upDown = 'up';\n        } else if (detail > 0) {\n          // down\n          upDown = 'down';\n        }\n      } else if (wheelDelta) {\n        //\n        if (wheelDelta > 0) {\n          // up\n          upDown = 'up';\n        }\n        if (wheelDelta < 0) {\n          // down\n          upDown = 'down';\n        }\n      }\n\n      const { transform } = this.$menuPanel.style;\n\n      let y = reg.exec(transform);\n      y = y ? parseFloat(y[1], 10) : 0;\n\n      if (\n        prevent &&\n        this.maxOffset > 0 &&\n        ((upDown === 'down' && Math.abs(y) < this.maxOffset) ||\n          (upDown === 'up' && y > 0))\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      if (\n        (upDown === 'up' && y === 0) ||\n        (upDown === 'down' && Math.abs(y) === this.maxOffset)\n      ) {\n        return;\n      }\n\n      if (upDown === 'up' && y < 0) {\n        this.$menuPanel.style.transform = `translateY(${Math.min(\n          y + step,\n          0\n        )}px)`;\n      } else if (upDown === 'down' && Math.abs(y) < this.maxOffset) {\n        this.$menuPanel.style.transform = `translateY(${Math.max(\n          y - step,\n          -this.maxOffset\n        )}px)`;\n      }\n    };\n\n  // 当定位到某一个菜单项时，而由于限制了高度，该菜单有可能不在可视范围内\n  scrollMenu = lastSelector => {\n    const { step } = this.config;\n    const { $menuPanel } = this;\n    const { scrollHeight, clientHeight } = $menuPanel;\n    let maxOffset = scrollHeight - clientHeight; // 最大滚动的高度\n    if (maxOffset === 0) {\n      return;\n    }\n    maxOffset += 1; // 由于计算偏差，需要微调1个像素\n    /*\n     * 如果当前菜单项隐藏，则向上拉\n     * Fixme 注意这里还需计算 $menuPanel.parentElement padding 和 border 的值，待处理\n     */\n    const menuRect = $menuPanel.parentElement.getBoundingClientRect();\n    const currentTarget = doc.querySelectorAll(lastSelector.join(','));\n    if (currentTarget) {\n      Array.prototype.forEach.call(currentTarget, el => {\n        let rect = el.getBoundingClientRect();\n        while (\n          rect.top > 0 &&\n          rect.bottom > 0 &&\n          (rect.top < menuRect.top || rect.bottom > menuRect.bottom)\n        ) {\n          // 向上移动\n          const { transform } = $menuPanel.style;\n          let y = reg.exec(transform);\n          y = y ? parseFloat(y[1], 10) : 0;\n          if (rect.top < menuRect.top) {\n            $menuPanel.style.transform = `translateY(${Math.min(\n              y + step,\n              0\n            )}px)`;\n          } else {\n            $menuPanel.style.transform = `translateY(${Math.max(\n              y - step,\n              -maxOffset\n            )}px)`;\n          }\n          rect = el.getBoundingClientRect();\n        }\n      });\n    }\n  };\n\n  unmount() {\n    console.info('待补充');\n    win.removeEventListener(resizeEvt, this.adjustMenuHeight, false);\n  }\n}\n\nexport default CatalogueSpy;\n","import { getUuid, isWheel, offset, position } from '../base/util';\n\nconst win = window;\nconst doc = document;\nconst { forEach, map } = Array.prototype;\n\nclass ScrollSpy {\n  static defaultConfig = {\n    offset: 0,\n    method: 'auto',\n    menu: '', // 菜单导航\n    menuCls: null, // 自定义菜单样式\n    menuClsPrefix: 'menu', // 菜单样式前缀\n    container: null, // 需要监听的内容容器\n    immedLoad: true, // 是否立即监听，如果设为 false， 则通过滑动鼠标来激活监听\n    prefix: 'menu-', // 导航目录前缀\n    anchor: true, // 是否用锚点来控制，默认用锚点处理\n    animation: true, // 是否开启动画\n    extend: false, // 默认菜单没有展开\n  };\n\n  constructor(element, config = {}) {\n    this.element = element;\n    this.scrollElement = element.tagName === 'BODY' ? win : element;\n    this.config = this.getConfig(config);\n    const { menu, menuClsPrefix, extend } = this.config;\n    // 菜单 目录 等选择器\n    this.menuSelector = `${menu} .${menuClsPrefix}-title`;\n    this.offsets = [];\n    this.targets = [];\n    this.activeTarget = null;\n    this.scrollHeight = 0;\n\n    // 如果默认不展开，则用样式来控制\n    if (!extend) {\n      const extendStyle = doc.createElement('style');\n      extendStyle.innerHTML = `\n          .menu-catalogue .menu-catalogue {\n            display: none;\n          }\n          .active + .menu-catalogue {\n            display: block;\n          }`;\n      doc.getElementsByTagName('head')[0].append(extendStyle);\n    }\n\n    // 添加事件，页面滚动时，处理目录和内容对应坐标\n    this.scrollElement.addEventListener(\n      isWheel ? 'mousewheel' : 'DOMMouseScroll',\n      this.scrollEvent,\n      false\n    );\n    const { immedLoad, initMenus, anchor } = this.config;\n    // 需要根据内容动态创建菜单列表\n    if (initMenus) {\n      this.generateMenus();\n    }\n\n    // 菜单面板\n    this.menuPanel = `${menu} .${menuClsPrefix}.${menuClsPrefix}-catalogue`;\n    this.$menuPanel = doc.querySelector(this.menuPanel);\n\n    // 不用锚点处理的情况\n    if (anchor === false) {\n      // fixme 待改进，改成 事件代理模式\n      const menuElements = doc.querySelectorAll(this.menuSelector);\n      forEach.call(menuElements, el => {\n        el.addEventListener(\n          'click',\n          e => {\n            e.preventDefault();\n            e.stopPropagation();\n            const target = e.currentTarget;\n            const { offsetMethod, container } = this.config;\n            const offsetXY = this.config.offset;\n\n            const targetEl = doc.querySelector(\n              `${container} [data-target=\"${target.dataset}\"]`\n            ).parentNode;\n            const top =\n              offsetMethod === 'offset'\n                ? offset(targetEl).top\n                : position(targetEl).top;\n            const offsetBase =\n              offsetMethod === 'position' ? this.getScrollTop() : 0;\n\n            // fixme\n            this.scrollElement.scrollTo(0, top + offsetBase - offsetXY);\n            target.blur();\n            this.process();\n          },\n          false\n        );\n      });\n    }\n\n    // 加载插件\n    const { pluginConfig } = this.config;\n    let { plugins } = this.config;\n    if (plugins) {\n      if (!Array.isArray(plugins)) {\n        plugins = [plugins];\n      }\n      this.plugins = [];\n      const { container } = this.config;\n      plugins.forEach(plugin => {\n        // 把当前实例传给插件\n        const instance = new plugin(this, pluginConfig);\n        instance.mount();\n        this.plugins.push(instance);\n      });\n    }\n\n    /*\n     * 显示菜单\n     * doc.querySelector(menu).style.display = 'block';\n     */\n    if (immedLoad) {\n      this.refresh();\n      this.process();\n    }\n  }\n\n  getConfig(config) {\n    const _config = { ...ScrollSpy.defaultConfig, ...config };\n\n    const { menu } = _config;\n    let { container } = _config;\n\n    if (typeof menu !== 'string') {\n      // dom 对象\n      let { id } = menu;\n      if (!id) {\n        id = getUuid('scrollspy');\n        menu.id = id;\n      }\n      _config.menu = `#${id}`;\n    }\n\n    if (!container) {\n      container = doc.body; // 默认取 body\n    }\n    if (typeof container !== 'string') {\n      let { id } = container;\n      if (!id) {\n        id = getUuid('scrollspy');\n        container.id = id;\n      }\n      _config.container = `#${id}`;\n    }\n\n    const autoMethod =\n      this.scrollElement !== this.scrollElement.window ? 'position' : 'offset';\n\n    const offsetMethod =\n      _config.method === 'auto' ? autoMethod : _config.method;\n\n    _config.offsetMethod = offsetMethod;\n\n    return _config;\n  }\n\n  /**\n   * 动态创建菜单\n   */\n  generateMenus() {\n    const menus = this.element.querySelectorAll('h1,h2,h3,h4,h5,h6');\n    // 初始化根节点\n    const entries = {\n      level: 0,\n      children: [],\n      depth: 0,\n      parent: null,\n      text: null,\n      root: true,\n    };\n\n    // 前一个元素 level\n    let prevLevel = 0;\n    // 上一个节点\n    let lastNode = null;\n\n    forEach.call(menus, (el, index) => {\n      let entry = null;\n      const level = 7 - parseInt(el.tagName[1], 10);\n      const text = el.innerHTML;\n\n      if (index === 0) {\n        // 初始化第一个元素\n        entry = {\n          level,\n          children: [],\n          depth: 1,\n          parent: entries,\n          text,\n          el,\n        };\n        entries.children.push(entry);\n      } else {\n        if (level === prevLevel) {\n          // 相等的话\n          entry = {\n            level,\n            children: [],\n            depth: lastNode.depth,\n            parent: lastNode.parent,\n            text,\n            el,\n          };\n          lastNode.parent.children.push(entry);\n        } else if (level < prevLevel) {\n          // 如果当前级别小于前一个\n          entry = {\n            level,\n            children: [],\n            depth: lastNode.depth + 1,\n            parent: lastNode,\n            text,\n            el,\n          };\n          lastNode.children.push(entry);\n        } else {\n          // 如果当前级别大于前一个 查找祖先节点\n          let ancestor = lastNode.parent;\n          while (ancestor.level <= level && !ancestor.root) {\n            ancestor = ancestor.parent;\n          }\n          entry = {\n            level,\n            children: [],\n            depth: ancestor.depth + 1,\n            parent: ancestor,\n            text,\n            el,\n          };\n          ancestor.children.push(entry);\n        }\n      }\n      lastNode = entry;\n      prevLevel = level;\n    });\n\n    const html = this.generateMenusHtml(entries.children, this.config.prefix);\n    doc.querySelector(this.config.menu).innerHTML = html;\n  }\n\n  /**\n   * 根据 nodes 节点 生成 html\n   * @param nodes\n   * @param prefix\n   * @return {string}\n   */\n  generateMenusHtml(nodes, prefix) {\n    const { menuClsPrefix, menuCls } = this.config;\n    let html = '';\n    if (nodes && nodes.length > 0) {\n      html = `<ul class=\"${menuClsPrefix} ${menuClsPrefix}-catalogue${\n        menuCls ? ` ${menuCls}` : ''\n      }\">`;\n      for (let i = 0, len = nodes.length; i < len; i++) {\n        const node = nodes[i];\n        // 为对应的内容加锚点\n        const newChild = document.createElement('a');\n        newChild.id = prefix + (i + 1);\n        newChild.className = `${menuClsPrefix}-anchor`;\n        if (this.config.anchor) {\n          newChild.href = `#${prefix + (i + 1)}`;\n        } else {\n          newChild.dataset.menu = `${prefix + (i + 1)}`;\n        }\n\n        newChild.setAttribute('aria-hidden', true);\n        node.el.insertBefore(newChild, node.el.firstChild);\n\n        html += '<li>';\n        if (this.config.anchor) {\n          html += `<a class=\"${menuClsPrefix}-title\" href=\"#${prefix}${i +\n            1}\">${node.text}</a>`;\n        } else {\n          // 用 data-target 来控制，需要结合 js 来控制\n          html += `<a class=\"${menuClsPrefix}-title\" data-target=\"${prefix}${i +\n            1}\" href=\"#\">${node.text}</a>`;\n        }\n        if (node.children && node.children.length > 0) {\n          html += this.generateMenusHtml(node.children, `${prefix}${i + 1}-`);\n        }\n        html += '</li>';\n      }\n      html += '</ul>';\n    }\n    return html;\n  }\n\n  /**\n   * 滚动页面时，刷新相关数据\n   */\n  refresh() {\n    const { offsetMethod } = this.config;\n    const offsetBase = offsetMethod === 'position' ? this.getScrollTop() : 0;\n\n    this.offsets = [];\n    this.targets = [];\n    this.scrollHeight = this.getScrollHeight();\n\n    // 把滚动监听的元素和坐标保存到offsets和targets中\n    const menuElements = doc.querySelectorAll(this.menuSelector);\n\n    map\n      .call(menuElements, element => {\n        // 目标元素\n        let target = null;\n        const { anchor, container } = this.config;\n        const selector = anchor\n          ? element.getAttribute('href')\n          : element.dataset.menu;\n        const targetSelector = anchor\n          ? element.getAttribute('href')\n          : `${container} [data-target=\"${element.dataset.menu}\"]`;\n\n        if (targetSelector) {\n          target = doc.querySelector(targetSelector).parentNode;\n          const targetBCR = target.getBoundingClientRect();\n          if (targetBCR.width || targetBCR.height) {\n            return [\n              (offsetMethod === 'offset'\n                ? offset(target).top\n                : position(target).top) + offsetBase,\n              selector,\n            ];\n          }\n        }\n        return null;\n      })\n      .sort((a, b) => {\n        if (!a || !b) {\n          return 0;\n        }\n        return a[0] - b[0];\n      })\n      .forEach(item => {\n        if (item) {\n          this.offsets.push(item[0]);\n          this.targets.push(item[1]);\n        }\n      });\n  }\n\n  // 鼠标滚动事件\n  scrollEvent = e => {\n    this.process();\n  };\n\n  /**\n   * 滚动时触发该方法\n   * @returns {boolean|*}\n   */\n  process() {\n    // 需要加 1 微调\n    const scrollTop = this.getScrollTop() + this.config.offset + 1;\n    const scrollHeight = this.getScrollHeight();\n    const maxScroll =\n      this.config.offset + scrollHeight - this.getOffsetHeight();\n\n    // 不相等的话，重新刷新，比如改变页面窗口后\n    if (this.scrollHeight !== scrollHeight) {\n      this.refresh();\n    }\n\n    // 滑到底部\n    if (scrollTop >= maxScroll) {\n      // 取最后一个\n      const target = this.targets[this.targets.length - 1];\n\n      if (this.activeTarget !== target) {\n        this.activate(target);\n      }\n      return;\n    }\n\n    // 滑到头部\n    if (\n      this.activeTarget &&\n      scrollTop < this.offsets[0] &&\n      this.offsets[0] > 0\n    ) {\n      this.activeTarget = null;\n      this.clearActiveCls();\n      return;\n    }\n\n    for (let i = this.offsets.length; i--; ) {\n      const isActiveTarget =\n        this.activeTarget !== this.targets[i] &&\n        scrollTop >= this.offsets[i] &&\n        (this.offsets[i + 1] === undefined || scrollTop < this.offsets[i + 1]);\n\n      if (isActiveTarget) {\n        this.activate(this.targets[i]);\n      }\n    }\n  }\n\n  /**\n   * 设置当前活动的内容\n   * @param target\n   */\n  activate(target) {\n    this.activeTarget = target;\n\n    this.clearActiveCls();\n\n    const { anchor } = this.config;\n    let queries = this.menuSelector.split(',');\n    const lastSelector = []; // 最后一个菜单项，即当前的子节点\n    // 当前选中的和父目录都添加活动样式\n    const parentEls = target.split('-');\n    queries = queries.map(query => {\n      const selector = [];\n      let catalog = '';\n      parentEls.forEach((item, index) => {\n        if (index === 0) {\n          catalog += item;\n        } else {\n          catalog += `-${item}`;\n          selector.push(\n            anchor\n              ? `${query}[href=\"${catalog}\"]`\n              : `${query}[data-menu=\"${catalog}\"]`\n          );\n        }\n      });\n      lastSelector.push(selector[selector.length - 1]);\n      return selector.join(',');\n    });\n\n    const $link = doc.querySelectorAll(queries.join(','));\n\n    for (let i = 0, len = $link.length; i < len; i++) {\n      $link[i].classList.add('active');\n    }\n\n    this.plugins.forEach(plugin => {\n      if (typeof plugin.scrollMenu === 'function') {\n        plugin.scrollMenu(lastSelector);\n      }\n    });\n\n    // todo 事件，待补充\n\n    /*\n     * $(this._scrollElement).trigger(Event.ACTIVATE, {\n     * relatedTarget: target\n     *})\n     */\n  }\n\n  clearActiveCls() {\n    // 删除当前活动样式\n    const activeEls = doc.querySelectorAll(`${this.menuSelector}.active`);\n    if (activeEls) {\n      for (let i = 0, len = activeEls.length; i < len; i++) {\n        activeEls[i].classList.remove('active');\n      }\n    }\n  }\n\n  // 卸载\n  unmount() {\n    // $.removeData(this._element, DATA_KEY)\n    this.scrollElement.removeEventListener(\n      isWheel ? 'mousewheel' : 'DOMMouseScroll',\n      this.scrollEvent,\n      false\n    );\n\n    this.element = null;\n    this.scrollElement = null;\n    this.config = null;\n    this.menu = null;\n    this.menuSelector = null;\n    this.container = null;\n    this.offsets = null;\n    this.targets = null;\n    this.activeTarget = null;\n    this.scrollHeight = null;\n\n    // 卸载插件\n    if (this.plugins) {\n      this.plugins.forEach(plugin => {\n        plugin.unmount();\n      });\n      this.plugins = null;\n    }\n  }\n\n  getScrollTop() {\n    return this.scrollElement === win\n      ? this.scrollElement.pageYOffset\n      : this.scrollElement.scrollTop;\n  }\n\n  getScrollHeight() {\n    return (\n      this.scrollElement.scrollHeight ||\n      Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight)\n    );\n  }\n\n  getOffsetHeight() {\n    return this.scrollElement === win\n      ? win.innerHeight\n      : this.scrollElement.getBoundingClientRect().height;\n  }\n}\n\nexport default ScrollSpy;\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = false;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'\n});\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\nvar $export = require('./_export');\nvar $filter = require('./_array-methods')(2);\n\n$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $forEach = require('./_array-methods')(0);\nvar STRICT = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $indexOf = require('./_array-includes')(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $export = require('./_export');\nvar $map = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n"],"sourceRoot":""}